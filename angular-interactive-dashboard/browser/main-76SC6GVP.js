var ah=Object.defineProperty,uh=Object.defineProperties;var lh=Object.getOwnPropertyDescriptors;var Cu=Object.getOwnPropertySymbols;var ch=Object.prototype.hasOwnProperty,dh=Object.prototype.propertyIsEnumerable;var Eu=(n,e,t)=>e in n?ah(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,g=(n,e)=>{for(var t in e||={})ch.call(e,t)&&Eu(n,t,e[t]);if(Cu)for(var t of Cu(e))dh.call(e,t)&&Eu(n,t,e[t]);return n},S=(n,e)=>uh(n,lh(e));var bu=null;var co=1,Iu=Symbol("SIGNAL");function k(n){let e=bu;return bu=n,e}var _u={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fh(n){if(!(po(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===co)){if(!n.producerMustRecompute(n)&&!fo(n)){n.dirty=!1,n.lastCleanEpoch=co;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=co}}function Mu(n){return n&&(n.nextProducerIndex=0),k(n)}function Su(n,e){if(k(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(po(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ho(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function fo(n){wr(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(fh(t),r!==t.version))return!0}return!1}function xu(n){if(wr(n),po(n))for(let e=0;e<n.producerNode.length;e++)ho(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ho(n,e){if(hh(n),wr(n),n.liveConsumerNode.length===1)for(let r=0;r<n.producerNode.length;r++)ho(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];wr(i),i.producerIndexOfThis[r]=e}}function po(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function wr(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function hh(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ph(){throw new Error}var gh=ph;function Tu(n){gh=n}function E(n){return typeof n=="function"}function At(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Cr=At(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function bn(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var z=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(E(r))try{r()}catch(o){e=o instanceof Cr?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Au(o)}catch(s){e=e??[],s instanceof Cr?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Cr(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Au(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&bn(t,e)}remove(e){let{_finalizers:t}=this;t&&bn(t,e),e instanceof n&&e._removeParent(this)}};z.EMPTY=(()=>{let n=new z;return n.closed=!0,n})();var go=z.EMPTY;function Er(n){return n instanceof z||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function Au(n){E(n)?n():n.unsubscribe()}var be={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Nt={setTimeout(n,e,...t){let{delegate:r}=Nt;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Nt;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function br(n){Nt.setTimeout(()=>{let{onUnhandledError:e}=be;if(e)e(n);else throw n})}function In(){}var Nu=mo("C",void 0,void 0);function Ru(n){return mo("E",void 0,n)}function Ou(n){return mo("N",n,void 0)}function mo(n,e,t){return{kind:n,value:e,error:t}}var lt=null;function Rt(n){if(be.useDeprecatedSynchronousErrorHandling){let e=!lt;if(e&&(lt={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=lt;if(lt=null,t)throw r}}else n()}function Pu(n){be.useDeprecatedSynchronousErrorHandling&&lt&&(lt.errorThrown=!0,lt.error=n)}var ct=class extends z{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Er(e)&&e.add(this)):this.destination=yh}static create(e,t,r){return new Ot(e,t,r)}next(e){this.isStopped?yo(Ou(e),this):this._next(e)}error(e){this.isStopped?yo(Ru(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yo(Nu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mh=Function.prototype.bind;function vo(n,e){return mh.call(n,e)}var Do=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ir(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ir(r)}else Ir(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ir(t)}}},Ot=class extends ct{constructor(e,t,r){super();let i;if(E(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&be.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vo(e.next,o),error:e.error&&vo(e.error,o),complete:e.complete&&vo(e.complete,o)}):i=e}this.destination=new Do(i)}};function Ir(n){be.useDeprecatedSynchronousErrorHandling?Pu(n):br(n)}function vh(n){throw n}function yo(n,e){let{onStoppedNotification:t}=be;t&&Nt.setTimeout(()=>t(n,e))}var yh={closed:!0,next:In,error:vh,complete:In};var Pt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function le(n){return n}function wo(...n){return Co(n)}function Co(n){return n.length===0?le:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var H=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=wh(t)?t:new Ot(t,r,i);return Rt(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ku(r),new r((i,o)=>{let s=new Ot({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Pt](){return this}pipe(...t){return Co(t)(this)}toPromise(t){return t=ku(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ku(n){var e;return(e=n??be.Promise)!==null&&e!==void 0?e:Promise}function Dh(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}function wh(n){return n&&n instanceof ct||Dh(n)&&Er(n)}function Eo(n){return E(n?.lift)}function A(n){return e=>{if(Eo(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function N(n,e,t,r,i){return new bo(n,e,t,r,i)}var bo=class extends ct{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function kt(){return A((n,e)=>{let t=null;n._refCount++;let r=N(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ft=class extends H{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Eo(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new z;let t=this.getSubject();e.add(this.source.subscribe(N(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=z.EMPTY)}return e}refCount(){return kt()(this)}};var Fu=At(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=(()=>{class n extends H{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new _r(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Fu}next(t){Rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?go:(this.currentObservers=null,o.push(t),new z(()=>{this.currentObservers=null,bn(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new H;return t.source=this,t}}return n.create=(e,t)=>new _r(e,t),n})(),_r=class extends Y{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:go}};var Q=class extends Y{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ce=new H(n=>n.complete());function Lu(n){return n&&E(n.schedule)}function ju(n){return n[n.length-1]}function Hu(n){return E(ju(n))?n.pop():void 0}function Ze(n){return Lu(ju(n))?n.pop():void 0}function Vu(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(c){s(c)}}function u(d){try{l(r.throw(d))}catch(c){s(c)}}function l(d){d.done?o(d.value):i(d.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Bu(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dt(n){return this instanceof dt?(this.v=n,this):new dt(n)}function $u(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(m,D){o.push([f,h,m,D])>1||a(f,h)})})}function a(f,h){try{u(r[f](h))}catch(m){c(o[0][3],m)}}function u(f){f.value instanceof dt?Promise.resolve(f.value.v).then(l,d):c(o[0][2],f)}function l(f){a("next",f)}function d(f){a("throw",f)}function c(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Uu(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Bu=="function"?Bu(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Mr=n=>n&&typeof n.length=="number"&&typeof n!="function";function Sr(n){return E(n?.then)}function xr(n){return E(n[Pt])}function Tr(n){return Symbol.asyncIterator&&E(n?.[Symbol.asyncIterator])}function Ar(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ch(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nr=Ch();function Rr(n){return E(n?.[Nr])}function Or(n){return $u(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield dt(t.read());if(i)return yield dt(void 0);yield yield dt(r)}}finally{t.releaseLock()}})}function Pr(n){return E(n?.getReader)}function q(n){if(n instanceof H)return n;if(n!=null){if(xr(n))return Eh(n);if(Mr(n))return bh(n);if(Sr(n))return Ih(n);if(Tr(n))return zu(n);if(Rr(n))return _h(n);if(Pr(n))return Mh(n)}throw Ar(n)}function Eh(n){return new H(e=>{let t=n[Pt]();if(E(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bh(n){return new H(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Ih(n){return new H(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,br)})}function _h(n){return new H(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function zu(n){return new H(e=>{Sh(n,e).catch(t=>e.error(t))})}function Mh(n){return zu(Or(n))}function Sh(n,e){var t,r,i,o;return Vu(this,void 0,void 0,function*(){try{for(t=Uu(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function oe(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function kr(n,e=0){return A((t,r)=>{t.subscribe(N(r,i=>oe(r,n,()=>r.next(i),e),()=>oe(r,n,()=>r.complete(),e),i=>oe(r,n,()=>r.error(i),e)))})}function Fr(n,e=0){return A((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Gu(n,e){return q(n).pipe(Fr(e),kr(e))}function Wu(n,e){return q(n).pipe(Fr(e),kr(e))}function qu(n,e){return new H(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Yu(n,e){return new H(t=>{let r;return oe(t,e,()=>{r=n[Nr](),oe(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>E(r?.return)&&r.return()})}function Lr(n,e){if(!n)throw new Error("Iterable cannot be null");return new H(t=>{oe(t,e,()=>{let r=n[Symbol.asyncIterator]();oe(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Qu(n,e){return Lr(Or(n),e)}function Zu(n,e){if(n!=null){if(xr(n))return Gu(n,e);if(Mr(n))return qu(n,e);if(Sr(n))return Wu(n,e);if(Tr(n))return Lr(n,e);if(Rr(n))return Yu(n,e);if(Pr(n))return Qu(n,e)}throw Ar(n)}function G(n,e){return e?Zu(n,e):q(n)}function b(...n){let e=Ze(n);return G(n,e)}function Lt(n,e){let t=E(n)?n:()=>n,r=i=>i.error(t());return new H(e?i=>e.schedule(r,0,i):r)}function Io(n){return!!n&&(n instanceof H||E(n.lift)&&E(n.subscribe))}var ze=At(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function R(n,e){return A((t,r)=>{let i=0;t.subscribe(N(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:xh}=Array;function Th(n,e){return xh(e)?n(...e):n(e)}function Ku(n){return R(e=>Th(n,e))}var{isArray:Ah}=Array,{getPrototypeOf:Nh,prototype:Rh,keys:Oh}=Object;function Xu(n){if(n.length===1){let e=n[0];if(Ah(e))return{args:e,keys:null};if(Ph(e)){let t=Oh(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Ph(n){return n&&typeof n=="object"&&Nh(n)===Rh}function Ju(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function jr(...n){let e=Ze(n),t=Hu(n),{args:r,keys:i}=Xu(n);if(r.length===0)return G([],e);let o=new H(kh(r,e,i?s=>Ju(i,s):le));return t?o.pipe(Ku(t)):o}function kh(n,e,t=le){return r=>{el(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)el(e,()=>{let l=G(n[u],e),d=!1;l.subscribe(N(r,c=>{o[u]=c,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function el(n,e,t){n?oe(t,n,e):e()}function tl(n,e,t,r,i,o,s,a){let u=[],l=0,d=0,c=!1,f=()=>{c&&!u.length&&!l&&e.complete()},h=D=>l<r?m(D):u.push(D),m=D=>{o&&e.next(D),l++;let j=!1;q(t(D,d++)).subscribe(N(e,T=>{i?.(T),o?h(T):e.next(T)},()=>{j=!0},void 0,()=>{if(j)try{for(l--;u.length&&l<r;){let T=u.shift();s?oe(e,s,()=>m(T)):m(T)}f()}catch(T){e.error(T)}}))};return n.subscribe(N(e,h,()=>{c=!0,f()})),()=>{a?.()}}function W(n,e,t=1/0){return E(e)?W((r,i)=>R((o,s)=>e(r,o,i,s))(q(n(r,i))),t):(typeof e=="number"&&(t=e),A((r,i)=>tl(r,i,n,t)))}function _o(n=1/0){return W(le,n)}function nl(){return _o(1)}function jt(...n){return nl()(G(n,Ze(n)))}function Hr(n){return new H(e=>{q(n()).subscribe(e)})}function Ie(n,e){return A((t,r)=>{let i=0;t.subscribe(N(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ke(n){return A((e,t)=>{let r=null,i=!1,o;r=e.subscribe(N(t,void 0,void 0,s=>{o=q(n(s,Ke(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function rl(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(N(s,d=>{let c=l++;u=a?n(u,d,c):(a=!0,d),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Ht(n,e){return E(e)?W(n,e,1):W(n,1)}function Xe(n){return A((e,t)=>{let r=!1;e.subscribe(N(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ge(n){return n<=0?()=>ce:A((e,t)=>{let r=0;e.subscribe(N(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Mo(n){return R(()=>n)}function Br(n=Fh){return A((e,t)=>{let r=!1;e.subscribe(N(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Fh(){return new ze}function _n(n){return A((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Re(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ie((i,o)=>n(i,o,r)):le,Ge(1),t?Xe(e):Br(()=>new ze))}function Bt(n){return n<=0?()=>ce:A((e,t)=>{let r=[];e.subscribe(N(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function So(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ie((i,o)=>n(i,o,r)):le,Bt(1),t?Xe(e):Br(()=>new ze))}function xo(n,e){return A(rl(n,e,arguments.length>=2,!0))}function To(...n){let e=Ze(n);return A((t,r)=>{(e?jt(n,t,e):jt(n,t)).subscribe(r)})}function _e(n,e){return A((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(N(r,u=>{i?.unsubscribe();let l=0,d=o++;q(n(u,d)).subscribe(i=N(r,c=>r.next(e?e(u,c,d,l++):c),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Mn(n){return A((e,t)=>{q(n).subscribe(N(t,()=>t.complete(),In)),!t.closed&&e.subscribe(t)})}function Z(n,e,t){let r=E(n)||e||t?{next:n,error:e,complete:t}:n;return r?A((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(N(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):le}var C=class extends Error{constructor(e,t){super(xs(e,t)),this.code=e}};function xs(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function di(n){return{toString:n}.toString()}var Sn=globalThis;function B(n){for(let e in n)if(n[e]===B)return e;throw Error("Could not find renamed property on target object.")}function se(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(se).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function il(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var Lh=B({__forward_ref__:B});function Hl(n){return n.__forward_ref__=Hl,n.toString=function(){return se(this())},n}function me(n){return Bl(n)?n():n}function Bl(n){return typeof n=="function"&&n.hasOwnProperty(Lh)&&n.__forward_ref__===Hl}function I(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nn(n){return{providers:n.providers||[],imports:n.imports||[]}}function fi(n){return ol(n,$l)||ol(n,Ul)}function Vl(n){return fi(n)!==null}function ol(n,e){return n.hasOwnProperty(e)?n[e]:null}function jh(n){let e=n&&(n[$l]||n[Ul]);return e||null}function sl(n){return n&&(n.hasOwnProperty(al)||n.hasOwnProperty(Hh))?n[al]:null}var $l=B({\u0275prov:B}),al=B({\u0275inj:B}),Ul=B({ngInjectableDef:B}),Hh=B({ngInjectorDef:B}),O=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zl(n){return n&&!!n.\u0275providers}var Bh=B({\u0275cmp:B}),Vh=B({\u0275dir:B}),$h=B({\u0275pipe:B}),Uh=B({\u0275mod:B}),qr=B({\u0275fac:B}),xn=B({__NG_ELEMENT_ID__:B}),ul=B({__NG_ENV_ID__:B});function Gl(n){return typeof n=="string"?n:n==null?"":String(n)}function zh(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Gl(n)}function Gh(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new C(-200,n)}function Ts(n,e){throw new C(-201,!1)}var x=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(x||{}),Vo;function Wl(){return Vo}function ge(n){let e=Vo;return Vo=n,e}function ql(n,e,t){let r=fi(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&x.Optional)return null;if(e!==void 0)return e;Ts(n,"Injector")}var Wh={},Tn=Wh,qh="__NG_DI_FLAG__",Yr="ngTempTokenPath",Yh="ngTokenPath",Qh=/\n/gm,Zh="\u0275",ll="__source",zt;function Kh(){return zt}function Je(n){let e=zt;return zt=n,e}function Xh(n,e=x.Default){if(zt===void 0)throw new C(-203,!1);return zt===null?ql(n,void 0,e):zt.get(n,e&x.Optional?null:void 0,e)}function P(n,e=x.Default){return(Wl()||Xh)(me(n),e)}function v(n,e=x.Default){return P(n,hi(e))}function hi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function $o(n){let e=[];for(let t=0;t<n.length;t++){let r=me(n[t]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=x.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Jh(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(P(i,o))}else e.push(P(r))}return e}function Jh(n){return n[qh]}function ep(n,e,t,r){let i=n[Yr];throw e[ll]&&i.unshift(e[ll]),n.message=tp(`
`+n.message,i,t,r),n[Yh]=i,n[Yr]=null,n}function tp(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Zh?n.slice(2):n;let i=se(e);if(Array.isArray(e))i=e.map(se).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):se(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Qh,`
  `)}`}function qt(n,e){let t=n.hasOwnProperty(qr);return t?n[qr]:null}function np(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function rp(n){return n.flat(Number.POSITIVE_INFINITY)}function As(n,e){n.forEach(t=>Array.isArray(t)?As(t,e):e(t))}function Yl(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Qr(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ip(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}var An={},Oe=[],Yt=new O(""),Ql=new O("",-1),Zl=new O(""),Zr=class{get(e,t=Tn){if(t===Tn){let r=new Error(`NullInjectorError: No provider for ${se(e)}!`);throw r.name="NullInjectorError",r}return t}},Kl=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Kl||{}),Fe=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Fe||{}),tt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(tt||{});function op(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Uo(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];ap(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function sp(n){return n===3||n===4||n===6}function ap(n){return n.charCodeAt(0)===64}function Ns(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?cl(n,t,i,null,e[++r]):cl(n,t,i,null,null))}}return n}function cl(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Xl="ng-template";function up(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&op(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Rs(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Rs(n){return n.type===4&&n.value!==Xl}function lp(n,e,t){let r=n.type===4&&!t?Xl:n.value;return e===r}function cp(n,e,t){let r=4,i=n.attrs,o=i!==null?hp(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Me(r)&&!Me(u))return!1;if(s&&Me(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!lp(n,u,t)||u===""&&e.length===1){if(Me(r))return!1;s=!0}}else if(r&8){if(i===null||!up(n,i,u,t)){if(Me(r))return!1;s=!0}}else{let l=e[++a],d=dp(u,i,Rs(n),t);if(d===-1){if(Me(r))return!1;s=!0;continue}if(l!==""){let c;if(d>o?c="":c=i[d+1].toLowerCase(),r&2&&l!==c){if(Me(r))return!1;s=!0}}}}return Me(r)||s}function Me(n){return(n&1)===0}function dp(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return pp(e,n)}function Jl(n,e,t=!1){for(let r=0;r<e.length;r++)if(cp(n,e[r],t))return!0;return!1}function fp(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function hp(n){for(let e=0;e<n.length;e++){let t=n[e];if(sp(t))return e}return n.length}function pp(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function gp(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function dl(n,e){return n?":not("+e.trim()+")":e}function mp(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Me(s)&&(e+=dl(o,i),i=""),r=s,o=o||!Me(r);t++}return i!==""&&(e+=dl(o,i)),e}function vp(n){return n.map(mp).join(",")}function yp(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Me(i))break;i=o}r++}return{attrs:e,classes:t}}function yt(n){return di(()=>{let e=ic(n),t=S(g({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Kl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Fe.Emulated,styles:n.styles||Oe,_:null,schemas:n.schemas||null,tView:null,id:""});oc(t);let r=n.dependencies;return t.directiveDefs=hl(r,!1),t.pipeDefs=hl(r,!0),t.id=Cp(t),t})}function Dp(n){return nt(n)||ec(n)}function wp(n){return n!==null}function rn(n){return di(()=>({type:n.type,bootstrap:n.bootstrap||Oe,declarations:n.declarations||Oe,imports:n.imports||Oe,exports:n.exports||Oe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function fl(n,e){if(n==null)return An;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=tt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==tt.None?[r,a]:r,e[o]=s):t[o]=r}return t}function pi(n){return di(()=>{let e=ic(n);return oc(e),e})}function nt(n){return n[Bh]||null}function ec(n){return n[Vh]||null}function tc(n){return n[$h]||null}function nc(n){let e=nt(n)||ec(n)||tc(n);return e!==null?e.standalone:!1}function rc(n,e){let t=n[Uh]||null;if(!t&&e===!0)throw new Error(`Type ${se(n)} does not have '\u0275mod' property.`);return t}function ic(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||An,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Oe,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fl(n.inputs,e),outputs:fl(n.outputs),debugInfo:null}}function oc(n){n.features?.forEach(e=>e(n))}function hl(n,e){if(!n)return null;let t=e?tc:Dp;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(wp)}function Cp(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function gi(n){return{\u0275providers:n}}function Ep(...n){return{\u0275providers:sc(!0,n),\u0275fromNgModule:!0}}function sc(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return As(e,s=>{let a=s;zo(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ac(i,o),t}function ac(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Os(i,o=>{e(o,r)})}}function zo(n,e,t,r){if(n=me(n),!n)return!1;let i=null,o=sl(n),s=!o&&nt(n);if(!o&&!s){let u=n.ngModule;if(o=sl(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)zo(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{As(o.imports,d=>{zo(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&ac(l,e)}if(!a){let l=qt(i)||(()=>new i);e({provide:i,useFactory:l,deps:Oe},i),e({provide:Zl,useValue:i,multi:!0},i),e({provide:Yt,useValue:()=>P(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Os(u,d=>{e(d,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Os(n,e){for(let t of n)zl(t)&&(t=t.\u0275providers),Array.isArray(t)?Os(t,e):e(t)}var bp=B({provide:String,useValue:B});function uc(n){return n!==null&&typeof n=="object"&&bp in n}function Ip(n){return!!(n&&n.useExisting)}function _p(n){return!!(n&&n.useFactory)}function Go(n){return typeof n=="function"}var mi=new O(""),Vr={},Mp={},Ao;function Ps(){return Ao===void 0&&(Ao=new Zr),Ao}var ve=class{},Nn=class extends ve{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qo(e,s=>this.processProvider(s)),this.records.set(Ql,Vt(void 0,this)),i.has("environment")&&this.records.set(ve,Vt(void 0,this));let o=this.records.get(mi);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Zl,Oe,x.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=k(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Je(this),r=ge(void 0),i;try{return e()}finally{Je(t),ge(r)}}get(e,t=Tn,r=x.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ul))return e[ul](this);r=hi(r);let i,o=Je(this),s=ge(void 0);try{if(!(r&x.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Rp(e)&&fi(e);l&&this.injectableDefInScope(l)?u=Vt(Wo(e),Vr):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&x.Self?Ps():this.parent;return t=r&x.Optional&&t===Tn?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Yr]=a[Yr]||[]).unshift(se(e)),o)throw a;return ep(a,e,"R3InjectorError",this.source)}else throw a}finally{ge(s),Je(o)}}resolveInjectorInitializers(){let e=k(null),t=Je(this),r=ge(void 0),i;try{let o=this.get(Yt,Oe,x.Self);for(let s of o)s()}finally{Je(t),ge(r),k(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(se(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=me(e);let t=Go(e)?e:me(e&&e.provide),r=xp(e);if(!Go(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Vt(void 0,Vr,!0),i.factory=()=>$o(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=k(null);try{return t.value===Vr&&(t.value=Mp,t.value=t.factory()),typeof t.value=="object"&&t.value&&Np(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{k(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=me(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Wo(n){let e=fi(n),t=e!==null?e.factory:qt(n);if(t!==null)return t;if(n instanceof O)throw new C(204,!1);if(n instanceof Function)return Sp(n);throw new C(204,!1)}function Sp(n){if(n.length>0)throw new C(204,!1);let t=jh(n);return t!==null?()=>t.factory(n):()=>new n}function xp(n){if(uc(n))return Vt(void 0,n.useValue);{let e=Tp(n);return Vt(e,Vr)}}function Tp(n,e,t){let r;if(Go(n)){let i=me(n);return qt(i)||Wo(i)}else if(uc(n))r=()=>me(n.useValue);else if(_p(n))r=()=>n.useFactory(...$o(n.deps||[]));else if(Ip(n))r=()=>P(me(n.useExisting));else{let i=me(n&&(n.useClass||n.provide));if(Ap(n))r=()=>new i(...$o(n.deps));else return qt(i)||Wo(i)}return r}function Vt(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ap(n){return!!n.deps}function Np(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Rp(n){return typeof n=="function"||typeof n=="object"&&n instanceof O}function qo(n,e){for(let t of n)Array.isArray(t)?qo(t,e):t&&zl(t)?qo(t.\u0275providers,e):e(t)}function Dt(n,e){n instanceof Nn&&n.assertNotDestroyed();let t,r=Je(n),i=ge(void 0);try{return e()}finally{Je(r),ge(i)}}function Op(){return Wl()!==void 0||Kh()!=null}function Pp(n){return typeof n=="function"}var Ye=0,_=1,w=2,K=3,Se=4,fe=5,Qt=6,Rn=7,de=8,Zt=9,Le=10,re=11,On=12,pl=13,Bn=14,ye=15,Vn=16,$t=17,We=18,vi=19,lc=20,et=21,No=22,ht=23,je=25,cc=1;var pt=7,Kr=8,Kt=9,te=10,ks=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(ks||{});function Gt(n){return Array.isArray(n)&&typeof n[cc]=="object"}function Qe(n){return Array.isArray(n)&&n[cc]===!0}function dc(n){return(n.flags&4)!==0}function yi(n){return n.componentOffset>-1}function Fs(n){return(n.flags&1)===1}function $n(n){return!!n.template}function kp(n){return(n[w]&512)!==0}var Yo=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function fc(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Di(){return hc}function hc(n){return n.type.prototype.ngOnChanges&&(n.setInput=Lp),Fp}Di.ngInherit=!0;function Fp(){let n=gc(this),e=n?.current;if(e){let t=n.previous;if(t===An)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Lp(n,e,t,r,i){let o=this.declaredInputs[r],s=gc(n)||jp(n,{previous:An,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Yo(l&&l.currentValue,t,u===An),fc(n,e,i,t)}var pc="__ngSimpleChanges__";function gc(n){return n[pc]||null}function jp(n,e){return n[pc]=e}var gl=null;var Pe=function(n,e,t){gl?.(n,e,t)},Hp="svg",Bp="math",Vp=!1;function $p(){return Vp}function He(n){for(;Array.isArray(n);)n=n[Ye];return n}function Up(n,e){return He(e[n])}function xe(n,e){return He(e[n.index])}function Ls(n,e){return n.data[e]}function wt(n,e){let t=e[n];return Gt(t)?t:t[Ye]}function zp(n){return(n[w]&4)===4}function js(n){return(n[w]&128)===128}function Gp(n){return Qe(n[K])}function Xr(n,e){return e==null?null:n[e]}function mc(n){n[$t]=0}function Wp(n){n[w]&1024||(n[w]|=1024,js(n)&&Pn(n))}function Hs(n){return!!(n[w]&9216||n[ht]?.dirty)}function Qo(n){n[Le].changeDetectionScheduler?.notify(1),Hs(n)?Pn(n):n[w]&64&&($p()?(n[w]|=1024,Pn(n)):n[Le].changeDetectionScheduler?.notify())}function Pn(n){n[Le].changeDetectionScheduler?.notify();let e=kn(n);for(;e!==null&&!(e[w]&8192||(e[w]|=8192,!js(e)));)e=kn(e)}function vc(n,e){if((n[w]&256)===256)throw new C(911,!1);n[et]===null&&(n[et]=[]),n[et].push(e)}function qp(n,e){if(n[et]===null)return;let t=n[et].indexOf(e);t!==-1&&n[et].splice(t,1)}function kn(n){let e=n[K];return Qe(e)?e[K]:e}var F={lFrame:Mc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Yp(){return F.lFrame.elementDepthCount}function Qp(){F.lFrame.elementDepthCount++}function Zp(){F.lFrame.elementDepthCount--}function yc(){return F.bindingsEnabled}function Dc(){return F.skipHydrationRootTNode!==null}function Kp(n){return F.skipHydrationRootTNode===n}function Xp(){F.skipHydrationRootTNode=null}function $(){return F.lFrame.lView}function Te(){return F.lFrame.tView}function Ae(){let n=wc();for(;n!==null&&n.type===64;)n=n.parent;return n}function wc(){return F.lFrame.currentTNode}function Jp(){let n=F.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Un(n,e){let t=F.lFrame;t.currentTNode=n,t.isParent=e}function Cc(){return F.lFrame.isParent}function Ec(){F.lFrame.isParent=!1}function eg(n){return F.lFrame.bindingIndex=n}function Bs(){return F.lFrame.bindingIndex++}function tg(){return F.lFrame.inI18n}function ng(n,e){let t=F.lFrame;t.bindingIndex=t.bindingRootIndex=n,Zo(e)}function rg(){return F.lFrame.currentDirectiveIndex}function Zo(n){F.lFrame.currentDirectiveIndex=n}function bc(){return F.lFrame.currentQueryIndex}function Vs(n){F.lFrame.currentQueryIndex=n}function ig(n){let e=n[_];return e.type===2?e.declTNode:e.type===1?n[fe]:null}function Ic(n,e,t){if(t&x.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&x.Host);)if(i=ig(o),i===null||(o=o[Bn],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=F.lFrame=_c();return r.currentTNode=e,r.lView=n,!0}function $s(n){let e=_c(),t=n[_];F.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function _c(){let n=F.lFrame,e=n===null?null:n.child;return e===null?Mc(n):e}function Mc(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Sc(){let n=F.lFrame;return F.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var xc=Sc;function Us(){let n=Sc();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wi(){return F.lFrame.selectedIndex}function gt(n){F.lFrame.selectedIndex=n}function og(){let n=F.lFrame;return Ls(n.tView,n.selectedIndex)}function sg(){return F.lFrame.currentNamespace}var Tc=!0;function zs(){return Tc}function Gs(n){Tc=n}function ag(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=hc(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Ws(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function $r(n,e,t){Ac(n,e,3,t)}function Ur(n,e,t,r){(n[w]&3)===t&&Ac(n,e,t,r)}function Ro(n,e){let t=n[w];(t&3)===e&&(t&=16383,t+=1,n[w]=t)}function Ac(n,e,t,r){let i=r!==void 0?n[$t]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[$t]+=65536),(a<o||o==-1)&&(ug(n,t,e,u),n[$t]=(n[$t]&4294901760)+u+2),u++}function ml(n,e){Pe(4,n,e);let t=k(null);try{e.call(n)}finally{k(t),Pe(5,n,e)}}function ug(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[w]>>14<n[$t]>>16&&(n[w]&3)===e&&(n[w]+=16384,ml(a,o)):ml(a,o)}var Wt=-1,Fn=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function lg(n){return n instanceof Fn}function cg(n){return(n.flags&8)!==0}function dg(n){return(n.flags&16)!==0}function Nc(n){return n!==Wt}function Jr(n){return n&32767}function fg(n){return n>>16}function ei(n,e){let t=fg(n),r=e;for(;t>0;)r=r[Bn],t--;return r}var Ko=!0;function vl(n){let e=Ko;return Ko=n,e}var hg=256,Rc=hg-1,Oc=5,pg=0,ke={};function gg(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(xn)&&(r=t[xn]),r==null&&(r=t[xn]=pg++);let i=r&Rc,o=1<<i;e.data[n+(i>>Oc)]|=o}function Pc(n,e){let t=kc(n,e);if(t!==-1)return t;let r=e[_];r.firstCreatePass&&(n.injectorIndex=e.length,Oo(r.data,n),Oo(e,null),Oo(r.blueprint,null));let i=qs(n,e),o=n.injectorIndex;if(Nc(i)){let s=Jr(i),a=ei(i,e),u=a[_].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Oo(n,e){n.push(0,0,0,0,0,0,0,0,e)}function kc(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function qs(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Bc(i),r===null)return Wt;if(t++,i=i[Bn],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Wt}function mg(n,e,t){gg(n,e,t)}function Fc(n,e,t){if(t&x.Optional||n!==void 0)return n;Ts(e,"NodeInjector")}function Lc(n,e,t,r){if(t&x.Optional&&r===void 0&&(r=null),!(t&(x.Self|x.Host))){let i=n[Zt],o=ge(void 0);try{return i?i.get(e,r,t&x.Optional):ql(e,r,t&x.Optional)}finally{ge(o)}}return Fc(r,e,t)}function jc(n,e,t,r=x.Default,i){if(n!==null){if(e[w]&2048&&!(r&x.Self)){let s=wg(n,e,t,r,ke);if(s!==ke)return s}let o=Hc(n,e,t,r,ke);if(o!==ke)return o}return Lc(e,t,r,i)}function Hc(n,e,t,r,i){let o=yg(t);if(typeof o=="function"){if(!Ic(e,n,r))return r&x.Host?Fc(i,t,r):Lc(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&x.Optional))Ts(t);else return s}finally{xc()}}else if(typeof o=="number"){let s=null,a=kc(n,e),u=Wt,l=r&x.Host?e[ye][fe]:null;for((a===-1||r&x.SkipSelf)&&(u=a===-1?qs(n,e):e[a+8],u===Wt||!Dl(r,!1)?a=-1:(s=e[_],a=Jr(u),e=ei(u,e)));a!==-1;){let d=e[_];if(yl(o,a,d.data)){let c=vg(a,e,t,s,r,l);if(c!==ke)return c}u=e[a+8],u!==Wt&&Dl(r,e[_].data[a+8]===l)&&yl(o,a,e)?(s=d,a=Jr(u),e=ei(u,e)):a=-1}}return i}function vg(n,e,t,r,i,o){let s=e[_],a=s.data[n+8],u=r==null?yi(a)&&Ko:r!=s&&(a.type&3)!==0,l=i&x.Host&&o===a,d=zr(a,s,t,u,l);return d!==null?Xt(e,s,d,a):ke}function zr(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,d=o>>20,c=r?a:a+d,f=i?a+d:l;for(let h=c;h<f;h++){let m=s[h];if(h<u&&t===m||h>=u&&m.type===t)return h}if(i){let h=s[u];if(h&&$n(h)&&h.type===t)return u}return null}function Xt(n,e,t,r){let i=n[t],o=e.data;if(lg(i)){let s=i;s.resolving&&Gh(zh(o[t]));let a=vl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?ge(s.injectImpl):null,d=Ic(n,r,x.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&ag(t,o[t],e)}finally{l!==null&&ge(l),vl(a),s.resolving=!1,xc()}}return i}function yg(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(xn)?n[xn]:void 0;return typeof e=="number"?e>=0?e&Rc:Dg:e}function yl(n,e,t){let r=1<<n;return!!(t[e+(n>>Oc)]&r)}function Dl(n,e){return!(n&x.Self)&&!(n&x.Host&&e)}var ft=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return jc(this._tNode,this._lView,e,hi(r),t)}};function Dg(){return new ft(Ae(),$())}function Ys(n){return di(()=>{let e=n.prototype.constructor,t=e[qr]||Xo(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[qr]||Xo(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Xo(n){return Bl(n)?()=>{let e=Xo(me(n));return e&&e()}:qt(n)}function wg(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[w]&2048&&!(s[w]&512);){let a=Hc(o,s,t,r|x.Self,ke);if(a!==ke)return a;let u=o.parent;if(!u){let l=s[lc];if(l){let d=l.get(t,ke,r);if(d!==ke)return d}u=Bc(s),s=s[Bn]}o=u}return i}function Bc(n){let e=n[_],t=e.type;return t===2?e.declTNode:t===1?n[fe]:null}function wl(n,e=null,t=null,r){let i=Vc(n,e,t,r);return i.resolveInjectorInitializers(),i}function Vc(n,e=null,t=null,r,i=new Set){let o=[t||Oe,Ep(n)];return r=r||(typeof n=="object"?void 0:se(n)),new Nn(o,e||Ps(),r||null,i)}var zn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return wl({name:""},i,r,"");{let o=r.name??"";return wl({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Tn,e.NULL=new Zr,e.\u0275prov=I({token:e,providedIn:"any",factory:()=>P(Ql)}),e.__NG_ELEMENT_ID__=-1;let n=e;return n})();var Cg="ngOriginalError";function Po(n){return n[Cg]}var qe=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Po(e);for(;t&&Po(t);)t=Po(t);return t||null}},$c=new O("",{providedIn:"root",factory:()=>v(qe).handleError.bind(void 0)}),Uc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Eg,e.__NG_ENV_ID__=r=>r;let n=e;return n})(),Jo=class extends Uc{constructor(e){super(),this._lView=e}onDestroy(e){return vc(this._lView,e),()=>qp(this._lView,e)}};function Eg(){return new Jo($())}function bg(){return on(Ae(),$())}function on(n,e){return new Be(xe(n,e))}var Be=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=bg;let n=e;return n})();function Ig(n){return n instanceof Be?n.nativeElement:n}var es=class extends Y{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Op()&&(this.destroyRef=v(Uc,{optional:!0})??void 0)}emit(e){let t=k(null);try{super.next(e)}finally{k(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=ko(o),i&&(i=ko(i)),s&&(s=ko(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof z&&e.add(a),a}};function ko(n){return e=>{setTimeout(n,void 0,e)}}var V=es;function _g(){return this._results[Symbol.iterator]()}var ts=class n{get changes(){return this._changes??=new V}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=_g)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=rp(e);(this._changesDetected=!np(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function zc(n){return(n.flags&128)===128}var Gc=new Map,Mg=0;function Sg(){return Mg++}function xg(n){Gc.set(n[vi],n)}function Tg(n){Gc.delete(n[vi])}var Cl="__ngContext__";function mt(n,e){Gt(e)?(n[Cl]=e[vi],xg(e)):n[Cl]=e}function Wc(n){return Yc(n[On])}function qc(n){return Yc(n[Se])}function Yc(n){for(;n!==null&&!Qe(n);)n=n[Se];return n}var ns;function Qc(n){ns=n}function Ag(){if(ns!==void 0)return ns;if(typeof document<"u")return document;throw new C(210,!1)}var Qs=new O("",{providedIn:"root",factory:()=>Ng}),Ng="ng",Zs=new O(""),sn=new O("",{providedIn:"platform",factory:()=>"unknown"});var Ks=new O("",{providedIn:"root",factory:()=>Ag().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Rg="h",Og="b";var Pg=()=>null;function Xs(n,e,t=!1){return Pg(n,e,t)}var Zc=!1,kg=new O("",{providedIn:"root",factory:()=>Zc});function Kc(n){return n instanceof Function?n():n}var Ct=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ct||{}),Fg;function Js(n,e){return Fg(n,e)}function Ut(n,e,t,r,i){if(r!=null){let o,s=!1;Qe(r)?o=r:Gt(r)&&(s=!0,r=r[Ye]);let a=He(r);n===0&&t!==null?i==null?nd(e,t,a):ti(e,t,a,i||null,!0):n===1&&t!==null?ti(e,t,a,i||null,!0):n===2?Kg(e,a,s):n===3&&e.destroyNode(a),o!=null&&Jg(e,n,o,t,i)}}function Lg(n,e){return n.createText(e)}function jg(n,e,t){n.setValue(e,t)}function Xc(n,e,t){return n.createElement(e,t)}function Hg(n,e){Jc(n,e),e[Ye]=null,e[fe]=null}function Bg(n,e,t,r,i,o){r[Ye]=i,r[fe]=e,Ei(n,r,t,1,i,o)}function Jc(n,e){e[Le].changeDetectionScheduler?.notify(1),Ei(n,e,e[re],2,null,null)}function Vg(n){let e=n[On];if(!e)return Fo(n[_],n);for(;e;){let t=null;if(Gt(e))t=e[On];else{let r=e[te];r&&(t=r)}if(!t){for(;e&&!e[Se]&&e!==n;)Gt(e)&&Fo(e[_],e),e=e[K];e===null&&(e=n),Gt(e)&&Fo(e[_],e),t=e&&e[Se]}e=t}}function $g(n,e,t,r){let i=te+r,o=t.length;r>0&&(t[i-1][Se]=e),r<o-te?(e[Se]=t[i],Yl(t,te+r,e)):(t.push(e),e[Se]=null),e[K]=t;let s=e[Vn];s!==null&&t!==s&&Ug(s,e);let a=e[We];a!==null&&a.insertView(n),Qo(e),e[w]|=128}function Ug(n,e){let t=n[Kt],i=e[K][K][ye];e[ye]!==i&&(n[w]|=ks.HasTransplantedViews),t===null?n[Kt]=[e]:t.push(e)}function ed(n,e){let t=n[Kt],r=t.indexOf(e);t.splice(r,1)}function Ln(n,e){if(n.length<=te)return;let t=te+e,r=n[t];if(r){let i=r[Vn];i!==null&&i!==n&&ed(i,r),e>0&&(n[t-1][Se]=r[Se]);let o=Qr(n,te+e);Hg(r[_],r);let s=o[We];s!==null&&s.detachView(o[_]),r[K]=null,r[Se]=null,r[w]&=-129}return r}function Ci(n,e){if(!(e[w]&256)){let t=e[re];t.destroyNode&&Ei(n,e,t,3,null,null),Vg(e)}}function Fo(n,e){if(e[w]&256)return;let t=k(null);try{e[w]&=-129,e[w]|=256,e[ht]&&xu(e[ht]),Gg(n,e),zg(n,e),e[_].type===1&&e[re].destroy();let r=e[Vn];if(r!==null&&Qe(e[K])){r!==e[K]&&ed(r,e);let i=e[We];i!==null&&i.detachView(n)}Tg(e)}finally{k(t)}}function zg(n,e){let t=n.cleanup,r=e[Rn];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Rn]=null);let i=e[et];if(i!==null){e[et]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Gg(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Fn)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Pe(4,a,u);try{u.call(a)}finally{Pe(5,a,u)}}else{Pe(4,i,o);try{o.call(i)}finally{Pe(5,i,o)}}}}}function td(n,e,t){return Wg(n,e.parent,t)}function Wg(n,e,t){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return t[Ye];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Fe.None||o===Fe.Emulated)return null}return xe(r,t)}}function ti(n,e,t,r,i){n.insertBefore(e,t,r,i)}function nd(n,e,t){n.appendChild(e,t)}function El(n,e,t,r,i){r!==null?ti(n,e,t,r,i):nd(n,e,t)}function qg(n,e,t,r){n.removeChild(e,t,r)}function ea(n,e){return n.parentNode(e)}function Yg(n,e){return n.nextSibling(e)}function rd(n,e,t){return Zg(n,e,t)}function Qg(n,e,t){return n.type&40?xe(n,t):null}var Zg=Qg,bl;function ta(n,e,t,r){let i=td(n,r,e),o=e[re],s=r.parent||e[fe],a=rd(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)El(o,i,t[u],a,!1);else El(o,i,t,a,!1);bl!==void 0&&bl(o,r,e,t,i)}function Gr(n,e){if(e!==null){let t=e.type;if(t&3)return xe(e,n);if(t&4)return rs(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Gr(n,r);{let i=n[e.index];return Qe(i)?rs(-1,i):He(i)}}else{if(t&32)return Js(e,n)()||He(n[e.index]);{let r=id(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=kn(n[ye]);return Gr(i,r)}else return Gr(n,e.next)}}}return null}function id(n,e){if(e!==null){let r=n[ye][fe],i=e.projection;return r.projection[i]}return null}function rs(n,e){let t=te+n+1;if(t<e.length){let r=e[t],i=r[_].firstChild;if(i!==null)return Gr(r,i)}return e[pt]}function Kg(n,e,t){let r=ea(n,e);r&&qg(n,r,e,t)}function na(n,e,t,r,i,o,s){for(;t!=null;){let a=r[t.index],u=t.type;if(s&&e===0&&(a&&mt(He(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)na(n,e,t.child,r,i,o,!1),Ut(e,n,i,a,o);else if(u&32){let l=Js(t,r),d;for(;d=l();)Ut(e,n,i,d,o);Ut(e,n,i,a,o)}else u&16?od(n,e,r,t,i,o):Ut(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Ei(n,e,t,r,i,o){na(t,r,n.firstChild,e,i,o,!1)}function Xg(n,e,t){let r=e[re],i=td(n,t,e),o=t.parent||e[fe],s=rd(o,t,e);od(r,0,e,t,i,s)}function od(n,e,t,r,i,o){let s=t[ye],u=s[fe].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let d=u[l];Ut(e,n,i,d,o)}else{let l=u,d=s[K];zc(r)&&(l.flags|=128),na(n,e,l,d,i,o,!0)}}function Jg(n,e,t,r,i){let o=t[pt],s=He(t);o!==s&&Ut(e,n,r,o,i);for(let a=te;a<t.length;a++){let u=t[a];Ei(u[_],u,n,e,r,o)}}function em(n,e,t){n.setAttribute(e,"style",t)}function sd(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ad(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Uo(n,e,r),i!==null&&sd(n,e,i),o!==null&&em(n,e,o)}var bi={};function an(n=1){ud(Te(),$(),wi()+n,!1)}function ud(n,e,t,r){if(!r)if((e[w]&3)===3){let o=n.preOrderCheckHooks;o!==null&&$r(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ur(e,o,0,t)}gt(t)}function it(n,e=x.Default){let t=$();if(t===null)return P(n,e);let r=Ae();return jc(r,t,me(n),e)}function ld(n,e,t,r,i,o){let s=k(null);try{let a=null;i&tt.SignalBased&&(a=e[r][Iu]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&tt.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):fc(e,a,r,o)}finally{k(s)}}function tm(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)gt(~i);else{let o=i,s=t[++r],a=t[++r];ng(s,o);let u=e[o];a(2,u)}}}finally{gt(-1)}}function Ii(n,e,t,r,i,o,s,a,u,l,d){let c=e.blueprint.slice();return c[Ye]=i,c[w]=r|4|128|8|64,(l!==null||n&&n[w]&2048)&&(c[w]|=2048),mc(c),c[K]=c[Bn]=n,c[de]=t,c[Le]=s||n&&n[Le],c[re]=a||n&&n[re],c[Zt]=u||n&&n[Zt]||null,c[fe]=o,c[vi]=Sg(),c[Qt]=d,c[lc]=l,c[ye]=e.type==2?n[ye]:c,c}function Gn(n,e,t,r,i){let o=n.data[e];if(o===null)o=nm(n,e,t,r,i),tg()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Jp();o.injectorIndex=s===null?-1:s.injectorIndex}return Un(o,!0),o}function nm(n,e,t,r,i){let o=wc(),s=Cc(),a=s?o:o&&o.parent,u=n.data[e]=um(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function cd(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function dd(n,e,t,r,i){let o=wi(),s=r&2;try{gt(-1),s&&e.length>je&&ud(n,e,je,!1),Pe(s?2:0,i),t(r,i)}finally{gt(o),Pe(s?3:1,i)}}function fd(n,e,t){if(dc(e)){let r=k(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{k(r)}}}function hd(n,e,t){yc()&&(gm(n,e,t,xe(t,e)),(t.flags&64)===64&&yd(n,e,t))}function pd(n,e,t=xe){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function gd(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ra(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ra(n,e,t,r,i,o,s,a,u,l,d){let c=je+r,f=c+i,h=rm(c,f),m=typeof l=="function"?l():l;return h[_]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1,ssrId:d}}function rm(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:bi);return t}function im(n,e,t,r){let o=r.get(kg,Zc)||t===Fe.ShadowDom,s=n.selectRootElement(e,o);return om(s),s}function om(n){sm(n)}var sm=()=>null;function am(n,e,t,r){let i=Cd(e);i.push(t),n.firstCreatePass&&Ed(n).push(r,i.length-1)}function um(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Dc()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Il(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=tt.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?_l(r,t,l,a,u):_l(r,t,l,a)}return r}function _l(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function lm(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let d=r;d<i;d++){let c=o[d],f=t?t.get(c):null,h=f?f.inputs:null,m=f?f.outputs:null;u=Il(0,c.inputs,d,u,h),l=Il(1,c.outputs,d,l,m);let D=u!==null&&s!==null&&!Rs(e)?Im(u,d,s):null;a.push(D)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function cm(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function dm(n,e,t,r,i,o,s,a){let u=xe(e,t),l=e.inputs,d;!a&&l!=null&&(d=l[r])?(ia(n,t,d,r,i),yi(e)&&fm(t,e.index)):e.type&3?(r=cm(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function fm(n,e){let t=wt(e,n);t[w]&16||(t[w]|=64)}function md(n,e,t,r){if(yc()){let i=r===null?null:{"":-1},o=vm(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&vd(n,e,t,s,i,a),i&&ym(t,r,i)}t.mergedAttrs=Ns(t.mergedAttrs,t.attrs)}function vd(n,e,t,r,i,o){for(let l=0;l<r.length;l++)mg(Pc(t,e),n,r[l].type);wm(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let d=r[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,u=cd(n,e,r.length,null);for(let l=0;l<r.length;l++){let d=r[l];t.mergedAttrs=Ns(t.mergedAttrs,d.hostAttrs),Cm(n,t,e,u,d),Dm(u,d,i),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let c=d.type.prototype;!s&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(c.ngOnChanges||c.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}lm(n,t,o)}function hm(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;pm(s)!=a&&s.push(a),s.push(t,r,o)}}function pm(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function gm(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;yi(t)&&Em(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Pc(t,e),mt(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=Xt(e,n,a,t);if(mt(l,e),s!==null&&bm(e,a-i,l,u,t,s),$n(u)){let d=wt(t.index,e);d[de]=Xt(e,n,a,t)}}}function yd(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=rg();try{gt(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Zo(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&mm(u,l)}}finally{gt(-1),Zo(s)}}function mm(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function vm(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(Jl(e,s.selectors,!1))if(r||(r=[]),$n(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;is(n,e,u)}else r.unshift(s),is(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function is(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function ym(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new C(-301,!1);r.push(e[i],o)}}}function Dm(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;$n(e)&&(t[""]=n)}}function wm(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Cm(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=qt(i.type,!0)),s=new Fn(o,$n(i),it);n.blueprint[r]=s,t[r]=s,hm(n,e,r,cd(n,t,i.hostVars,bi),i)}function Em(n,e,t){let r=xe(e,n),i=gd(t),o=n[Le].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=_i(n,Ii(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function bm(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],d=s[a++],c=s[a++];ld(r,t,u,l,d,c)}}function Im(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function Dd(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function wd(n,e){let t=n.contentQueries;if(t!==null){let r=k(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Vs(o),a.contentQueries(2,e[s],s)}}}finally{k(r)}}}function _i(n,e){return n[On]?n[pl][Se]=e:n[On]=e,n[pl]=e,e}function os(n,e,t){Vs(0);let r=k(null);try{e(n,t)}finally{k(r)}}function Cd(n){return n[Rn]||(n[Rn]=[])}function Ed(n){return n.cleanup||(n.cleanup=[])}function bd(n,e){let t=n[Zt],r=t?t.get(qe,null):null;r&&r.handleError(e)}function ia(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],d=n.data[s];ld(d,l,r,a,u,i)}}function _m(n,e,t){let r=Up(e,n);jg(n[re],r,t)}function Mm(n,e){let t=wt(e,n),r=t[_];Sm(r,t);let i=t[Ye];i!==null&&t[Qt]===null&&(t[Qt]=Xs(i,t[Zt])),oa(r,t,t[de])}function Sm(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function oa(n,e,t){$s(e);try{let r=n.viewQuery;r!==null&&os(1,r,t);let i=n.template;i!==null&&dd(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[We]?.finishViewCreation(n),n.staticContentQueries&&wd(n,e),n.staticViewQueries&&os(2,n.viewQuery,t);let o=n.components;o!==null&&xm(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[w]&=-5,Us()}}function xm(n,e){for(let t=0;t<e.length;t++)Mm(n,e[t])}function sa(n,e,t,r){let i=k(null);try{let o=e.tView,a=n[w]&4096?4096:16,u=Ii(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Vn]=l;let d=n[We];return d!==null&&(u[We]=d.createEmbeddedView(o)),oa(o,u,t),u}finally{k(i)}}function Tm(n,e){let t=te+e;if(t<n.length)return n[t]}function ni(n,e){return!e||e.firstChild===null||zc(n)}function aa(n,e,t,r=!0){let i=e[_];if($g(i,e,n,t),r){let s=rs(t,n),a=e[re],u=ea(a,n[pt]);u!==null&&Bg(i,n[fe],a,e,u,s)}let o=e[Qt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Am(n,e){let t=Ln(n,e);return t!==void 0&&Ci(t[_],t),t}function ri(n,e,t,r,i=!1){for(;t!==null;){let o=e[t.index];o!==null&&r.push(He(o)),Qe(o)&&Nm(o,r);let s=t.type;if(s&8)ri(n,e,t.child,r);else if(s&32){let a=Js(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=id(e,t);if(Array.isArray(a))r.push(...a);else{let u=kn(e[ye]);ri(u[_],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Nm(n,e){for(let t=te;t<n.length;t++){let r=n[t],i=r[_].firstChild;i!==null&&ri(r[_],r,i,e)}n[pt]!==n[Ye]&&e.push(n[pt])}var Id=[];function Rm(n){return n[ht]??Om(n)}function Om(n){let e=Id.pop()??Object.create(km);return e.lView=n,e}function Pm(n){n.lView[ht]!==n&&(n.lView=null,Id.push(n))}var km=S(g({},_u),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Pn(n.lView)},consumerOnSignalRead(){this.lView[ht]=this}}),_d=100;function Md(n,e=!0,t=0){let r=n[Le],i=r.rendererFactory,o=!1;o||i.begin?.();try{Fm(n,t)}catch(s){throw e&&bd(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Fm(n,e){ss(n,e);let t=0;for(;Hs(n);){if(t===_d)throw new C(103,!1);t++,ss(n,1)}}function Lm(n,e,t,r){let i=e[w];if((i&256)===256)return;let o=!1;!o&&e[Le].inlineEffectRunner?.flush(),$s(e);let s=null,a=null;!o&&jm(n)&&(a=Rm(e),s=Mu(a));try{mc(e),eg(n.bindingStartIndex),t!==null&&dd(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let c=n.preOrderCheckHooks;c!==null&&$r(e,c,null)}else{let c=n.preOrderHooks;c!==null&&Ur(e,c,0,null),Ro(e,0)}if(Hm(e),Sd(e,0),n.contentQueries!==null&&wd(n,e),!o)if(u){let c=n.contentCheckHooks;c!==null&&$r(e,c)}else{let c=n.contentHooks;c!==null&&Ur(e,c,1),Ro(e,1)}tm(n,e);let l=n.components;l!==null&&Td(e,l,0);let d=n.viewQuery;if(d!==null&&os(2,d,r),!o)if(u){let c=n.viewCheckHooks;c!==null&&$r(e,c)}else{let c=n.viewHooks;c!==null&&Ur(e,c,2),Ro(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[No]){for(let c of e[No])c();e[No]=null}o||(e[w]&=-73)}catch(u){throw Pn(e),u}finally{a!==null&&(Su(a,s),Pm(a)),Us()}}function jm(n){return n.type!==2}function Sd(n,e){for(let t=Wc(n);t!==null;t=qc(t))for(let r=te;r<t.length;r++){let i=t[r];xd(i,e)}}function Hm(n){for(let e=Wc(n);e!==null;e=qc(e)){if(!(e[w]&ks.HasTransplantedViews))continue;let t=e[Kt];for(let r=0;r<t.length;r++){let i=t[r],o=i[K];Wp(i)}}}function Bm(n,e,t){let r=wt(e,n);xd(r,t)}function xd(n,e){js(n)&&ss(n,e)}function ss(n,e){let r=n[_],i=n[w],o=n[ht],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&fo(o)),o&&(o.dirty=!1),n[w]&=-9217,s)Lm(r,n,r.template,n[de]);else if(i&8192){Sd(n,1);let a=r.components;a!==null&&Td(n,a,1)}}function Td(n,e,t){for(let r=0;r<e.length;r++)Bm(n,e[r],t)}function ua(n){for(n[Le].changeDetectionScheduler?.notify();n;){n[w]|=64;let e=kn(n);if(kp(n)&&!e)return n;n=e}return null}var vt=class{get rootNodes(){let e=this._lView,t=e[_];return ri(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[de]}set context(e){this._lView[de]=e}get destroyed(){return(this._lView[w]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[K];if(Qe(e)){let t=e[Kr],r=t?t.indexOf(this):-1;r>-1&&(Ln(e,r),Qr(t,r))}this._attachedToViewContainer=!1}Ci(this._lView[_],this._lView)}onDestroy(e){vc(this._lView,e)}markForCheck(){ua(this._cdRefInjectingView||this._lView)}detach(){this._lView[w]&=-129}reattach(){Qo(this._lView),this._lView[w]|=128}detectChanges(){this._lView[w]|=1024,Md(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Jc(this._lView[_],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,Qo(this._lView)}},Jt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Um;let n=e;return n})(),Vm=Jt,$m=class extends Vm{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=sa(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new vt(i)}};function Um(){return Mi(Ae(),$())}function Mi(n,e){return n.type&4?new $m(e,n,on(n,e)):null}var S0=new RegExp(`^(\\d+)*(${Og}|${Rg})*(.*)`);var zm=()=>null;function ii(n,e){return zm(n,e)}var as=class{},us=class{},oi=class{};function Gm(n){let e=Error(`No component factory found for ${se(n)}.`);return e[Wm]=n,e}var Wm="ngComponent";var ls=class{resolveComponentFactory(e){throw Gm(e)}},Si=(()=>{let e=class e{};e.NULL=new ls;let n=e;return n})(),jn=class{};var qm=(()=>{let e=class e{};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>null});let n=e;return n})(),Lo={};var Ml=new Set;function la(n){Ml.has(n)||(Ml.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Sl(...n){}function Ym(){let n=typeof Sn.requestAnimationFrame=="function",e=Sn[n?"requestAnimationFrame":"setTimeout"],t=Sn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var U=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new V(!1),this.onMicrotaskEmpty=new V(!1),this.onStable=new V(!1),this.onError=new V(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Ym().nativeRequestAnimationFrame,Km(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new C(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Qm,Sl,Sl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Qm={};function ca(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Zm(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cs(n),n.isCheckStableRunning=!0,ca(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cs(n))}function Km(n){let e=()=>{Zm(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(Xm(a))return t.invokeTask(i,o,s,a);try{return xl(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Tl(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return xl(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),Tl(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,cs(n),ca(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function cs(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function xl(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Tl(n){n._nesting--,ca(n)}function Xm(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var Ad=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();function ds(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=il(i,a);else if(o==2){let u=a,l=e[++s];r=il(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var si=class extends Si{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=nt(e);return new en(t,this.ngModule)}};function Al(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let r=n[t];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}function Jm(n){let e=n.toLowerCase();return e==="svg"?Hp:e==="math"?Bp:null}var fs=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=hi(r);let i=this.injector.get(e,Lo,r);return i!==Lo||t===Lo?i:this.parentInjector.get(e,t,r)}},en=class extends oi{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Al(e.inputs);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Al(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=vp(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=k(null);try{i=i||this.ngModule;let s=i instanceof ve?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new fs(e,s):e,u=a.get(jn,null);if(u===null)throw new C(407,!1);let l=a.get(qm,null),d=a.get(Ad,null),c=a.get(as,null),f={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:c},h=u.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",D=r?im(h,r,this.componentDef.encapsulation,a):Xc(h,m,Jm(m)),j=512;this.componentDef.signals?j|=4096:this.componentDef.onPush||(j|=16);let T=null;D!==null&&(T=Xs(D,a,!0));let ue=ra(0,null,null,1,0,null,null,null,null,null,null),ee=Ii(null,ue,null,j,null,null,f,h,a,null,T);$s(ee);let Ee,Ne;try{let ne=this.componentDef,Tt,lo=null;ne.findHostDirectiveDefs?(Tt=[],lo=new Map,ne.findHostDirectiveDefs(ne,Tt,lo),Tt.push(ne)):Tt=[ne];let oh=ev(ee,D),sh=tv(oh,D,ne,Tt,ee,f,h);Ne=Ls(ue,je),D&&iv(h,ne,D,r),t!==void 0&&ov(Ne,this.ngContentSelectors,t),Ee=rv(sh,ne,Tt,lo,ee,[sv]),oa(ue,ee,null)}finally{Us()}return new hs(this.componentType,Ee,on(Ne,ee),ee,Ne)}finally{k(o)}}},hs=class extends us{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new vt(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;ia(o[_],o,i,e,t),this.previousInputValues.set(e,t);let s=wt(this._tNode.index,o);ua(s)}}get injector(){return new ft(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ev(n,e){let t=n[_],r=je;return n[r]=e,Gn(t,r,2,"#host",null)}function tv(n,e,t,r,i,o,s){let a=i[_];nv(r,n,e,s);let u=null;e!==null&&(u=Xs(e,i[Zt]));let l=o.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let c=Ii(i,gd(t),null,d,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&is(a,n,r.length-1),_i(i,c),i[n.index]=c}function nv(n,e,t,r){for(let i of n)e.mergedAttrs=Ns(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ds(e,e.mergedAttrs,!0),t!==null&&ad(r,t,e))}function rv(n,e,t,r,i,o){let s=Ae(),a=i[_],u=xe(s,i);vd(a,i,s,t,null,r);for(let d=0;d<t.length;d++){let c=s.directiveStart+d,f=Xt(i,a,c,s);mt(f,i)}yd(a,i,s),u&&mt(u,i);let l=Xt(i,a,s.directiveStart+s.componentOffset,s);if(n[de]=i[de]=l,o!==null)for(let d of o)d(l,e);return fd(a,s,i),l}function iv(n,e,t,r){if(r)Uo(n,t,["ng-version","17.3.2"]);else{let{attrs:i,classes:o}=yp(e.selectors[0]);i&&Uo(n,t,i),o&&o.length>0&&sd(n,t,o.join(" "))}}function ov(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function sv(){let n=Ae();Ws($()[_],n)}var Ve=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=av;let n=e;return n})();function av(){let n=Ae();return Rd(n,$())}var uv=Ve,Nd=class extends uv{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return on(this._hostTNode,this._hostLView)}get injector(){return new ft(this._hostTNode,this._hostLView)}get parentInjector(){let e=qs(this._hostTNode,this._hostLView);if(Nc(e)){let t=ei(e,this._hostLView),r=Jr(e),i=t[_].data[r+8];return new ft(i,t)}else return new ft(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Nl(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-te}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ii(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ni(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!Pp(e),a;if(s)a=t;else{let m=t||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let u=s?e:new en(nt(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let D=(s?l:this.parentInjector).get(ve,null);D&&(o=D)}let d=nt(u.componentType??{}),c=ii(this._lContainer,d?.id??null),f=c?.firstChild??null,h=u.create(l,i,f,o);return this.insertImpl(h.hostView,a,ni(this._hostTNode,c)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Gp(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[K],l=new Nd(u,u[fe],u[K]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return aa(s,i,o,r),e.attachToViewContainerRef(),Yl(jo(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Nl(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ln(this._lContainer,t);r&&(Qr(jo(this._lContainer),t),Ci(r[_],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ln(this._lContainer,t);return r&&Qr(jo(this._lContainer),t)!=null?new vt(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Nl(n){return n[Kr]}function jo(n){return n[Kr]||(n[Kr]=[])}function Rd(n,e){let t,r=e[n.index];return Qe(r)?t=r:(t=Dd(r,e,null,n),e[n.index]=t,_i(e,t)),cv(t,e,n,r),new Nd(t,n,e)}function lv(n,e){let t=n[re],r=t.createComment(""),i=xe(e,n),o=ea(t,i);return ti(t,o,r,Yg(t,i),!1),r}var cv=hv,dv=()=>!1;function fv(n,e,t){return dv(n,e,t)}function hv(n,e,t,r){if(n[pt])return;let i;t.type&8?i=He(r):i=lv(e,t),n[pt]=i}var ps=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},gs=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)da(e,t).matches!==null&&this.queries[t].setDirty()}},ai=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Cv(e):this.predicate=e}},ms=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},vs=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,pv(t,o)),this.matchTNodeWithReadOption(e,t,zr(t,e,o,!1,!1))}else r===Jt?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,zr(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Be||i===Ve||i===Jt&&t.type&4)this.addMatch(t.index,-2);else{let o=zr(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function pv(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function gv(n,e){return n.type&11?on(n,e):n.type&4?Mi(n,e):null}function mv(n,e,t,r){return t===-1?gv(e,n):t===-2?vv(n,e,r):Xt(n,n[_],t,e)}function vv(n,e,t){if(t===Be)return on(e,n);if(t===Jt)return Mi(e,n);if(t===Ve)return Rd(e,n)}function Od(n,e,t,r){let i=e[We].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let d=o[l];a.push(mv(e,d,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function ys(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=Od(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],d=e[-u];for(let c=te;c<d.length;c++){let f=d[c];f[Vn]===f[K]&&ys(f[_],f,l,r)}if(d[Kt]!==null){let c=d[Kt];for(let f=0;f<c.length;f++){let h=c[f];ys(h[_],h,l,r)}}}}}return r}function yv(n,e){return n[We].queries[e].queryList}function Pd(n,e,t){let r=new ts((t&4)===4);return am(n,e,r,r.destroy),(e[We]??=new gs).queries.push(new ps(r))-1}function Dv(n,e,t){let r=Te();return r.firstCreatePass&&(kd(r,new ai(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),Pd(r,$(),e)}function wv(n,e,t,r){let i=Te();if(i.firstCreatePass){let o=Ae();kd(i,new ai(e,t,r),o.index),Ev(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return Pd(i,$(),t)}function Cv(n){return n.split(",").map(e=>e.trim())}function kd(n,e,t){n.queries===null&&(n.queries=new ms),n.queries.track(new vs(e,t))}function Ev(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function da(n,e){return n.queries.getByIndex(e)}function bv(n,e){let t=n[_],r=da(t,e);return r.crossesNgTemplate?ys(t,n,e,[]):Od(t,n,r,e)}var rt=class{},Hn=class{};var Ds=class extends rt{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new si(this);let i=rc(e);this._bootstrapComponents=Kc(i.bootstrap),this._r3Injector=Vc(e,t,[{provide:rt,useValue:this},{provide:Si,useValue:this.componentFactoryResolver},...r],se(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ws=class extends Hn{constructor(e){super(),this.moduleType=e}create(e){return new Ds(this.moduleType,e,[])}};var ui=class extends rt{constructor(e){super(),this.componentFactoryResolver=new si(this),this.instance=null;let t=new Nn([...e.providers,{provide:rt,useValue:this},{provide:Si,useValue:this.componentFactoryResolver}],e.parent||Ps(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fa(n,e,t=null){return new ui({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var xi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Q(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function ha(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Iv(n){return(n.flags&32)===32}function _v(n,e,t,r,i,o,s,a,u){let l=e.consts,d=Gn(e,n,4,s||null,Xr(l,a));md(e,t,d,Xr(l,u)),Ws(e,d);let c=d.tView=ra(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),c.queries=e.queries.embeddedTView(d)),d}function tn(n,e,t,r,i,o,s,a){let u=$(),l=Te(),d=n+je,c=l.firstCreatePass?_v(d,l,u,e,t,r,i,o,s):l.data[d];Un(c,!1);let f=Mv(l,u,c,n);zs()&&ta(l,u,f,c),mt(f,u);let h=Dd(f,u,f,c);return u[d]=h,_i(u,h),fv(h,c,u),Fs(c)&&hd(l,u,c),s!=null&&pd(u,c,a),tn}var Mv=Sv;function Sv(n,e,t,r){return Gs(!0),e[re].createComment("")}function xv(n,e,t,r){return ha(n,Bs(),t)?e+Gl(t)+r:bi}function un(n,e,t){let r=$(),i=Bs();if(ha(r,i,e)){let o=Te(),s=og();dm(o,s,r,n,e,r[re],t,!1)}return un}function Rl(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";ia(n,t,o[s],s,r)}var Cs=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Ho(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Tv(n,e,t){let r,i,o=0,s=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let u=n.at(o),l=e[o],d=Ho(o,u,o,l,t);if(d!==0){d<0&&n.updateValue(o,l),o++;continue}let c=n.at(s),f=e[a],h=Ho(s,c,a,f,t);if(h!==0){h<0&&n.updateValue(s,f),s--,a--;continue}let m=t(o,u),D=t(s,c),j=t(o,l);if(Object.is(j,D)){let T=t(a,f);Object.is(T,m)?(n.swap(o,s),n.updateValue(s,f),a--,s--):n.move(s,o),n.updateValue(o,l),o++;continue}if(r??=new li,i??=Pl(n,o,s,t),Es(n,r,o,j))n.updateValue(o,l),o++,s++;else if(i.has(j))r.set(m,n.detach(o)),s--;else{let T=n.create(o,e[o]);n.attach(o,T),o++,s++}}for(;o<=a;)Ol(n,r,t,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&o<=s;){let l=n.at(o),d=u.value,c=Ho(o,l,o,d,t);if(c!==0)c<0&&n.updateValue(o,d),o++,u=a.next();else{r??=new li,i??=Pl(n,o,s,t);let f=t(o,d);if(Es(n,r,o,f))n.updateValue(o,d),o++,s++,u=a.next();else if(!i.has(f))n.attach(o,n.create(o,d)),o++,s++,u=a.next();else{let h=t(o,l);r.set(h,n.detach(o)),s--}}}for(;!u.done;)Ol(n,r,t,n.length,u.value),u=a.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(a=>{n.destroy(a)})}function Es(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Ol(n,e,t,r,i){if(Es(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function Pl(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var li=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};var bs=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-te}};var Is=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Fd(n,e,t,r,i,o,s,a,u,l,d,c,f){la("NgControlFlow");let h=u!==void 0,m=$(),D=a?s.bind(m[ye][de]):s,j=new Is(h,D);m[je+n]=j,tn(n+1,e,t,r,i,o),h&&tn(n+2,u,l,d,c,f)}var _s=class extends Cs{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-te}at(e){return this.getLView(e)[de].$implicit}attach(e,t){let r=t[Qt];this.needsIndexUpdate||=e!==this.length,aa(this.lContainer,t,e,ni(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Av(this.lContainer,e)}create(e,t){let r=ii(this.lContainer,this.templateTNode.tView.ssrId);return sa(this.hostLView,this.templateTNode,new bs(this.lContainer,t,e),{dehydratedView:r})}destroy(e){Ci(e[_],e)}updateValue(e,t){this.getLView(e)[de].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[de].$index=e}getLView(e){return Nv(this.lContainer,e)}};function Ld(n){let e=k(null),t=wi();try{let r=$(),i=r[_],o=r[t];if(o.liveCollection===void 0){let a=t+1,u=kl(r,a),l=Fl(i,a);o.liveCollection=new _s(u,r,l)}else o.liveCollection.reset();let s=o.liveCollection;if(Tv(s,n,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Bs(),u=s.length===0;if(ha(r,a,u)){let l=t+2,d=kl(r,l);if(u){let c=Fl(i,l),f=ii(d,c.tView.ssrId),h=sa(r,c,void 0,{dehydratedView:f});aa(d,h,0,ni(c,f))}else Am(d,0)}}}finally{k(e)}}function kl(n,e){return n[e]}function Av(n,e){return Ln(n,e)}function Nv(n,e){return Tm(n,e)}function Fl(n,e){return Ls(n,e)}function Rv(n,e,t,r,i,o){let s=e.consts,a=Xr(s,i),u=Gn(e,n,2,r,a);return md(e,t,u,Xr(s,o)),u.attrs!==null&&ds(u,u.attrs,!1),u.mergedAttrs!==null&&ds(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Et(n,e,t,r){let i=$(),o=Te(),s=je+n,a=i[re],u=o.firstCreatePass?Rv(s,o,i,e,t,r):o.data[s],l=Ov(o,i,u,a,e,n);i[s]=l;let d=Fs(u);return Un(u,!0),ad(a,l,u),!Iv(u)&&zs()&&ta(o,i,l,u),Yp()===0&&mt(l,i),Qp(),d&&(hd(o,i,u),fd(o,u,i)),r!==null&&pd(i,u),Et}function bt(){let n=Ae();Cc()?Ec():(n=n.parent,Un(n,!1));let e=n;Kp(e)&&Xp(),Zp();let t=Te();return t.firstCreatePass&&(Ws(t,n),dc(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&cg(e)&&Rl(t,e,$(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&dg(e)&&Rl(t,e,$(),e.stylesWithoutHost,!1),bt}function pa(n,e,t,r){return Et(n,e,t,r),bt(),pa}var Ov=(n,e,t,r,i,o)=>(Gs(!0),Xc(r,i,sg()));var ci="en-US";var Pv=ci;function kv(n){typeof n=="string"&&(Pv=n.toLowerCase().replace(/_/g,"-"))}function Ti(n,e,t,r){let i=$(),o=Te(),s=Ae();return Lv(o,i,i[re],s,n,e,r),Ti}function Fv(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Rn],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Lv(n,e,t,r,i,o,s){let a=Fs(r),l=n.firstCreatePass&&Ed(n),d=e[de],c=Cd(e),f=!0;if(r.type&3||s){let D=xe(r,e),j=s?s(D):D,T=c.length,ue=s?Ee=>s(He(Ee[r.index])):r.index,ee=null;if(!s&&a&&(ee=Fv(n,e,i,r.index)),ee!==null){let Ee=ee.__ngLastListenerFn__||ee;Ee.__ngNextListenerFn__=o,ee.__ngLastListenerFn__=o,f=!1}else{o=jl(r,e,d,o,!1);let Ee=t.listen(j,i,o);c.push(o,Ee),l&&l.push(i,ue,T,T+1)}}else o=jl(r,e,d,o,!1);let h=r.outputs,m;if(f&&h!==null&&(m=h[i])){let D=m.length;if(D)for(let j=0;j<D;j+=2){let T=m[j],ue=m[j+1],Ne=e[T][ue].subscribe(o),ne=c.length;c.push(o,Ne),l&&l.push(i,r.index,ne,-(ne+1))}}}function Ll(n,e,t,r){let i=k(null);try{return Pe(6,e,t),t(r)!==!1}catch(o){return bd(n,o),!1}finally{Pe(7,e,t),k(i)}}function jl(n,e,t,r,i){return function o(s){if(s===Function)return r;let a=n.componentOffset>-1?wt(n.index,e):e;ua(a);let u=Ll(e,t,r,s),l=o.__ngNextListenerFn__;for(;l;)u=Ll(e,t,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function jv(n,e){let t=null,r=fp(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?Jl(n,o,!0):gp(r,o))return i}return t}function ga(n){let e=$()[ye][fe];if(!e.projection){let t=n?n.length:1,r=e.projection=ip(t,null),i=r.slice(),o=e.child;for(;o!==null;){let s=n?jv(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Ai(n,e=0,t){let r=$(),i=Te(),o=Gn(i,je+n,16,null,t||null);o.projection===null&&(o.projection=e),Ec(),(!r[Qt]||Dc())&&(o.flags&32)!==32&&Xg(i,r,o)}function ma(n,e,t,r){wv(n,e,t,r)}function va(n,e,t){Dv(n,e,t)}function Wn(n){let e=$(),t=Te(),r=bc();Vs(r+1);let i=da(t,r);if(n.dirty&&zp(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=bv(e,r);n.reset(o,Ig),n.notifyOnChanges()}return!0}return!1}function qn(){return yv($(),bc())}function Ni(n,e=""){let t=$(),r=Te(),i=n+je,o=r.firstCreatePass?Gn(r,i,1,e,null):r.data[i],s=Hv(r,t,o,e,n);t[i]=s,zs()&&ta(r,t,s,o),Un(o,!1)}var Hv=(n,e,t,r,i)=>(Gs(!0),Lg(e[re],r));function Yn(n,e,t){let r=$(),i=xv(r,n,e,t);return i!==bi&&_m(r,wi(),i),Yn}var Bv=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=sc(!1,r.type),o=i.length>0?fa([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(P(ve))});let n=e;return n})();function Ri(n){la("NgStandalone"),n.getStandaloneInjector=e=>e.get(Bv).getOrCreateStandaloneInjector(n)}function ya(n,e){return Mi(n,e)}var Oi=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var jd=new O("");function Qn(n){return!!n&&typeof n.then=="function"}function Hd(n){return!!n&&typeof n.subscribe=="function"}var Bd=new O(""),Vd=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(Bd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Qn(s))r.push(s);else if(Hd(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Da=new O("");function Vv(){Tu(()=>{throw new C(600,!1)})}function $v(n){return n.isBoundToModule}function Uv(n,e,t){try{let r=t();return Qn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Zn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v($c),this.afterRenderEffectManager=v(Ad),this.externalTestViews=new Set,this.beforeRender=new Y,this.afterTick=new Y,this.componentTypes=[],this.components=[],this.isStable=v(xi).hasPendingTasks.pipe(R(r=>!r)),this._injector=v(ve)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof oi;if(!this._injector.get(Vd).done){let h=!o&&nc(r),m=!1;throw new C(405,m)}let a;o?a=r:a=this._injector.get(Si).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=$v(a)?void 0:this._injector.get(rt),l=i||a.selector,d=a.create(zn.NULL,[],l,u),c=d.location.nativeElement,f=d.injector.get(jd,null);return f?.registerApplication(c),d.onDestroy(()=>{this.detachView(d.hostView),Bo(this.components,d),f?.unregisterApplication(c)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new C(101,!1);let i=k(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,k(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===_d)throw new C(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)zv(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Ms(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Ms(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Bo(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Da,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Bo(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Bo(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zv(n,e,t){!e&&!Ms(n)||Gv(n,t,e)}function Ms(n){return Hs(n)}function Gv(n,e,t){let r;t?(r=0,n[w]|=1024):n[w]&64?r=0:r=1,Md(n,e,r)}var Ss=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},wa=(()=>{let e=class e{compileModuleSync(r){return new ws(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=rc(r),s=Kc(o.declarations).reduce((a,u)=>{let l=nt(u);return l&&a.push(new en(l)),a},[]);return new Ss(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Wv=(()=>{let e=class e{constructor(){this.zone=v(U),this.applicationRef=v(Zn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function qv(n){return[{provide:U,useFactory:n},{provide:Yt,multi:!0,useFactory:()=>{let e=v(Wv,{optional:!0});return()=>e.initialize()}},{provide:Yt,multi:!0,useFactory:()=>{let e=v(Kv);return()=>{e.initialize()}}},{provide:$c,useFactory:Yv}]}function Yv(){let n=v(U),e=v(qe);return t=>n.runOutsideAngular(()=>e.handleError(t))}function Qv(n){let e=qv(()=>new U(Zv(n)));return gi([[],e])}function Zv(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Kv=(()=>{let e=class e{constructor(){this.subscription=new z,this.initialized=!1,this.zone=v(U),this.pendingTasks=v(xi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{U.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{U.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Xv(){return typeof $localize<"u"&&$localize.locale||ci}var Ca=new O("",{providedIn:"root",factory:()=>v(Ca,x.Optional|x.SkipSelf)||Xv()});var $d=new O("");var Wr=null;function Jv(n=[],e){return zn.create({name:e,providers:[{provide:mi,useValue:"platform"},{provide:$d,useValue:new Set([()=>Wr=null])},...n]})}function ey(n=[]){if(Wr)return Wr;let e=Jv(n);return Wr=e,Vv(),ty(e),e}function ty(n){n.get(Zs,null)?.forEach(t=>t())}var Kn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ny;let n=e;return n})();function ny(n){return ry(Ae(),$(),(n&16)===16)}function ry(n,e,t){if(yi(n)&&!t){let r=wt(n.index,e);return new vt(r,r)}else if(n.type&47){let r=e[ye];return new vt(r,e)}return null}function Ud(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=ey(r),o=[Qv(),...t||[]],a=new ui({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(U);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(qe,null),d;u.runOutsideAngular(()=>{d=u.onError.subscribe({next:h=>{l.handleError(h)}})});let c=()=>a.destroy(),f=i.get($d);return f.add(c),a.onDestroy(()=>{d.unsubscribe(),f.delete(c)}),Uv(l,u,()=>{let h=a.get(Vd);return h.runInitializers(),h.donePromise.then(()=>{let m=a.get(Ca,ci);kv(m||ci);let D=a.get(Zn);return e!==void 0&&D.bootstrap(e),D})})})}catch(e){return Promise.reject(e)}}function Ea(n){let e=nt(n);if(!e)return null;let t=new en(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Qd=null;function ln(){return Qd}function Zd(n){Qd??=n}var Pi=class{};var De=new O(""),Kd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(uy),providedIn:"platform"});let n=e;return n})();var uy=(()=>{let e=class e extends Kd{constructor(){super(),this._doc=v(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ln().getBaseHref(this._doc)}onPopState(r){let i=ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function Xd(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function zd(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function It(n){return n&&n[0]!=="?"?"?"+n:n}var Fi=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(Jd),providedIn:"root"});let n=e;return n})(),ly=new O(""),Jd=(()=>{let e=class e extends Fi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Xd(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+It(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+It(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+It(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(P(Kd),P(ly,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Jn=(()=>{let e=class e{constructor(r){this._subject=new V,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=fy(zd(Gd(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+It(i))}normalize(r){return e.stripTrailingSlash(dy(this._basePath,Gd(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+It(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+It(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=It,e.joinWithSlash=Xd,e.stripTrailingSlash=zd,e.\u0275fac=function(i){return new(i||e)(P(Fi))},e.\u0275prov=I({token:e,factory:()=>cy(),providedIn:"root"});let n=e;return n})();function cy(){return new Jn(P(Fi))}function dy(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Gd(n){return n.replace(/\/index.html$/,"")}function fy(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function ef(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var tf=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new ba,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Wd("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Wd("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(it(Ve),it(Jt))},e.\u0275dir=pi({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),ba=class{constructor(){this.$implicit=null,this.ngIf=null}};function Wd(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${se(e)}'.`)}var Ia=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=nn({});let n=e;return n})(),nf="browser",hy="server";function _a(n){return n===hy}var ki=class{};var xa=class extends Pi{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ta=class n extends xa{static makeCurrent(){Zd(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=my();return t==null?null:vy(t)}resetBaseElement(){er=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ef(document.cookie,e)}},er=null;function my(){return er=er||document.querySelector("base"),er?er.getAttribute("href"):null}function vy(n){return new URL(n,document.baseURI).pathname}var yy=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let n=e;return n})(),Aa=new O(""),af=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new C(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(P(Aa),P(U))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let n=e;return n})(),Li=class{constructor(e){this._doc=e}},Ma="ng-app-id",uf=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_a(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Ma}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Ma),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ma,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(P(De),P(Qs),P(Ks,8),P(sn))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let n=e;return n})(),Sa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ra=/%COMP%/g,lf="%COMP%",Dy=`_nghost-${lf}`,wy=`_ngcontent-${lf}`,Cy=!0,Ey=new O("",{providedIn:"root",factory:()=>Cy});function by(n){return wy.replace(Ra,n)}function Iy(n){return Dy.replace(Ra,n)}function cf(n,e){return e.map(t=>t.replace(Ra,n))}var rf=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=_a(u),this.defaultRenderer=new tr(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Fe.ShadowDom&&(i=S(g({},i),{encapsulation:Fe.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof ji?o.applyToHost(r):o instanceof nr&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Fe.Emulated:s=new ji(l,d,i,this.appId,c,a,u,f);break;case Fe.ShadowDom:return new Na(l,d,r,i,a,u,this.nonce,f);default:s=new nr(l,d,i,c,a,u,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(P(af),P(uf),P(Qs),P(Ey),P(De),P(sn),P(U),P(Ks))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let n=e;return n})(),tr=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Sa[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(of(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(of(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Sa[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Sa[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ct.DashCase|Ct.Important)?e.style.setProperty(t,r,i&Ct.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ct.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=ln().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function of(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Na=class extends tr{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=cf(i.id,i.styles);for(let d of l){let c=document.createElement("style");a&&c.setAttribute("nonce",a),c.textContent=d,this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nr=class extends tr{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?cf(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ji=class extends nr{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=by(l),this.hostAttr=Iy(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},_y=(()=>{let e=class e extends Li{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(P(De))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let n=e;return n})(),sf=["alt","control","meta","shift"],My={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sy={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},xy=(()=>{let e=class e extends Li{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ln().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),sf.forEach(d=>{let c=i.indexOf(d);c>-1&&(i.splice(c,1),a+=d+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=My[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),sf.forEach(a=>{if(a!==o){let u=Sy[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(P(De))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let n=e;return n})();function df(n,e){return Ud(g({rootComponent:n},Ty(e)))}function Ty(n){return{appProviders:[...Py,...n?.providers??[]],platformProviders:Oy}}function Ay(){Ta.makeCurrent()}function Ny(){return new qe}function Ry(){return Qc(document),document}var Oy=[{provide:sn,useValue:nf},{provide:Zs,useValue:Ay,multi:!0},{provide:De,useFactory:Ry,deps:[]}];var Py=[{provide:mi,useValue:"root"},{provide:qe,useFactory:Ny,deps:[]},{provide:Aa,useClass:_y,multi:!0,deps:[De,U,sn]},{provide:Aa,useClass:xy,multi:!0,deps:[De]},rf,uf,af,{provide:jn,useExisting:rf},{provide:ki,useClass:yy,deps:[]},[]];var ff=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(P(De))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var M="primary",vr=Symbol("RouteTitle"),La=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function pn(n){return new La(n)}function Fy(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ly(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$e(n[t],e[t]))return!1;return!0}function $e(n,e){let t=n?ja(n):void 0,r=e?ja(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!yf(n[i],e[i]))return!1;return!0}function ja(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function yf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Df(n){return n.length>0?n[n.length-1]:null}function at(n){return Io(n)?n:Qn(n)?G(Promise.resolve(n)):b(n)}var jy={exact:Cf,subset:Ef},wf={exact:Hy,subset:By,ignored:()=>!0};function hf(n,e,t){return jy[t.paths](n.root,e.root,t.matrixParams)&&wf[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Hy(n,e){return $e(n,e)}function Cf(n,e,t){if(!Mt(n.segments,e.segments)||!Vi(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Cf(n.children[r],e.children[r],t))return!1;return!0}function By(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yf(n[t],e[t]))}function Ef(n,e,t){return bf(n,e,e.segments,t)}function bf(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Mt(i,t)||e.hasChildren()||!Vi(i,t,r))}else if(n.segments.length===t.length){if(!Mt(n.segments,t)||!Vi(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Ef(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Mt(n.segments,i)||!Vi(n.segments,i,r)||!n.children[M]?!1:bf(n.children[M],e,o,r)}}function Vi(n,e,t){return e.every((r,i)=>wf[t](n[i].parameters,r.parameters))}var ot=class{constructor(e=new L([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=pn(this.queryParams),this._queryParamMap}toString(){return Uy.serialize(this)}},L=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $i(this)}},_t=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=pn(this.parameters),this._parameterMap}toString(){return _f(this)}};function Vy(n,e){return Mt(n,e)&&n.every((t,r)=>$e(t.parameters,e[r].parameters))}function Mt(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function $y(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===M&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==M&&(t=t.concat(e(i,r)))}),t}var cu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new zi,providedIn:"root"});let n=e;return n})(),zi=class{parse(e){let t=new Ba(e);return new ot(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${rr(e.root,!0)}`,r=Wy(e.queryParams),i=typeof e.fragment=="string"?`#${zy(e.fragment)}`:"";return`${t}${r}${i}`}},Uy=new zi;function $i(n){return n.segments.map(e=>_f(e)).join("/")}function rr(n,e){if(!n.hasChildren())return $i(n);if(e){let t=n.children[M]?rr(n.children[M],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==M&&r.push(`${i}:${rr(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=$y(n,(r,i)=>i===M?[rr(n.children[M],!1)]:[`${i}:${rr(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[M]!=null?`${$i(n)}/${t[0]}`:`${$i(n)}/(${t.join("//")})`}}function If(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hi(n){return If(n).replace(/%3B/gi,";")}function zy(n){return encodeURI(n)}function Ha(n){return If(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ui(n){return decodeURIComponent(n)}function pf(n){return Ui(n.replace(/\+/g,"%20"))}function _f(n){return`${Ha(n.path)}${Gy(n.parameters)}`}function Gy(n){return Object.entries(n).map(([e,t])=>`;${Ha(e)}=${Ha(t)}`).join("")}function Wy(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Hi(t)}=${Hi(i)}`).join("&"):`${Hi(t)}=${Hi(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var qy=/^[^\/()?;#]+/;function Oa(n){let e=n.match(qy);return e?e[0]:""}var Yy=/^[^\/()?;=#]+/;function Qy(n){let e=n.match(Yy);return e?e[0]:""}var Zy=/^[^=?&#]+/;function Ky(n){let e=n.match(Zy);return e?e[0]:""}var Xy=/^[^&#]+/;function Jy(n){let e=n.match(Xy);return e?e[0]:""}var Ba=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new L([],{}):new L([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[M]=new L(e,t)),r}parseSegment(){let e=Oa(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new _t(Ui(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Qy(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Oa(this.remaining);i&&(r=i,this.capture(r))}e[Ui(t)]=Ui(r)}parseQueryParam(e){let t=Ky(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Jy(this.remaining);s&&(r=s,this.capture(r))}let i=pf(t),o=pf(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Oa(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=M);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[M]:new L([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function Mf(n){return n.segments.length>0?new L([],{[M]:n}):n}function Sf(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Sf(i);if(r===M&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new L(n.segments,e);return eD(t)}function eD(n){if(n.numberOfChildren===1&&n.children[M]){let e=n.children[M];return new L(n.segments.concat(e.segments),e.children)}return n}function gn(n){return n instanceof ot}function tD(n,e,t=null,r=null){let i=xf(n);return Tf(i,e,t,r)}function xf(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new L(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Mf(r);return e??i}function Tf(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Pa(i,i,i,t,r);let o=nD(e);if(o.toRoot())return Pa(i,i,new L([],{}),t,r);let s=rD(o,i,n),a=s.processChildren?sr(s.segmentGroup,s.index,o.commands):Nf(s.segmentGroup,s.index,o.commands);return Pa(i,s.segmentGroup,a,t,r)}function Gi(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function lr(n){return typeof n=="object"&&n!=null&&n.outlets}function Pa(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;n===e?s=t:s=Af(n,e,t);let a=Mf(Sf(s));return new ot(a,o,i)}function Af(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=Af(o,e,t)}),new L(n.segments,r)}var Wi=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Gi(r[0]))throw new C(4003,!1);let i=r.find(lr);if(i&&i!==Df(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nD(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Wi(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Wi(t,e,r)}var fn=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function rD(n,e,t){if(n.isAbsolute)return new fn(e,!0,0);if(!t)return new fn(e,!1,NaN);if(t.parent===null)return new fn(t,!0,0);let r=Gi(n.commands[0])?0:1,i=t.segments.length-1+r;return iD(t,i,n.numberOfDoubleDots)}function iD(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new fn(r,!1,i-o)}function oD(n){return lr(n[0])?n[0].outlets:{[M]:n}}function Nf(n,e,t){if(n??=new L([],{}),n.segments.length===0&&n.hasChildren())return sr(n,e,t);let r=sD(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new L(n.segments.slice(0,r.pathIndex),{});return o.children[M]=new L(n.segments.slice(r.pathIndex),n.children),sr(o,0,i)}else return r.match&&i.length===0?new L(n.segments,{}):r.match&&!n.hasChildren()?Va(n,e,t):r.match?sr(n,0,i):Va(n,e,t)}function sr(n,e,t){if(t.length===0)return new L(n.segments,{});{let r=oD(t),i={};if(Object.keys(r).some(o=>o!==M)&&n.children[M]&&n.numberOfChildren===1&&n.children[M].segments.length===0){let o=sr(n.children[M],e,t);return new L(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Nf(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new L(n.segments,i)}}function sD(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(lr(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!mf(u,l,s))return o;r+=2}else{if(!mf(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Va(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(lr(o)){let u=aD(o.outlets);return new L(r,u)}if(i===0&&Gi(t[0])){let u=n.segments[e];r.push(new _t(u.path,gf(t[0]))),i++;continue}let s=lr(o)?o.outlets[M]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Gi(a)?(r.push(new _t(s,gf(a))),i+=2):(r.push(new _t(s,{})),i++)}return new L(r,{})}function aD(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Va(new L([],{}),0,r))}),e}function gf(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function mf(n,e,t){return n==t.path&&$e(e,t.parameters)}var ar="imperative",X=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(X||{}),we=class{constructor(e,t){this.id=e,this.url=t}},cr=class extends we{constructor(e,t,r="imperative",i=null){super(e,t),this.type=X.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},St=class extends we{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=X.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},pe=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(pe||{}),$a=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}($a||{}),st=class extends we{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=X.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xt=class extends we{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=X.NavigationSkipped}},dr=class extends we{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=X.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qi=class extends we{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=X.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ua=class extends we{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=X.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},za=class extends we{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=X.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ga=class extends we{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=X.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wa=class extends we{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=X.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qa=class{constructor(e){this.route=e,this.type=X.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ya=class{constructor(e){this.route=e,this.type=X.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qa=class{constructor(e){this.snapshot=e,this.type=X.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Za=class{constructor(e){this.snapshot=e,this.type=X.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ka=class{constructor(e){this.snapshot=e,this.type=X.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xa=class{constructor(e){this.snapshot=e,this.type=X.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var fr=class{},hr=class{constructor(e){this.url=e}};var Ja=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ji,this.attachRef=null}},Ji=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ja,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Yi=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=eu(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=eu(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=tu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tu(e,this._root).map(t=>t.value)}};function eu(n,e){if(n===e.value)return e;for(let t of e.children){let r=eu(n,t);if(r)return r}return null}function tu(n,e){if(n===e.value)return[e];for(let t of e.children){let r=tu(n,t);if(r.length)return r.unshift(e),r}return[]}var he=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function dn(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Qi=class extends Yi{constructor(e,t){super(e),this.snapshot=t,fu(this,e)}toString(){return this.snapshot.toString()}};function Rf(n){let e=uD(n),t=new Q([new _t("",{})]),r=new Q({}),i=new Q({}),o=new Q({}),s=new Q(""),a=new mn(t,r,o,s,i,M,n,e.root);return a.snapshot=e.root,new Qi(new he(a,[]),e)}function uD(n){let e={},t={},r={},i="",o=new pr([],e,r,i,t,M,n,null,{});return new Zi("",new he(o,[]))}var mn=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(R(l=>l[vr]))??b(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(R(e=>pn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(R(e=>pn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function du(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:g(g({},e.params),n.params),data:g(g({},e.data),n.data),resolve:g(g(g(g({},n.data),e.data),i?.data),n._resolvedData)}:r={params:g({},n.params),data:g({},n.data),resolve:g(g({},n.data),n._resolvedData??{})},i&&Pf(i)&&(r.resolve[vr]=i.title),r}var pr=class{get title(){return this.data?.[vr]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Zi=class extends Yi{constructor(e,t){super(t),this.url=e,fu(this,t)}toString(){return Of(this._root)}};function fu(n,e){e.value._routerState=n,e.children.forEach(t=>fu(n,t))}function Of(n){let e=n.children.length>0?` { ${n.children.map(Of).join(", ")} } `:"";return`${n.value}${e}`}function ka(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$e(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$e(e.params,t.params)||n.paramsSubject.next(t.params),Ly(e.url,t.url)||n.urlSubject.next(t.url),$e(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function nu(n,e){let t=$e(n.params,e.params)&&Vy(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||nu(n.parent,e.parent))}function Pf(n){return typeof n.title=="string"||n.title===null}var lD=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=M,this.activateEvents=new V,this.deactivateEvents=new V,this.attachEvents=new V,this.detachEvents=new V,this.parentContexts=v(Ji),this.location=v(Ve),this.changeDetector=v(Kn),this.environmentInjector=v(ve),this.inputBinder=v(hu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new ru(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=pi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Di]});let n=e;return n})(),ru=class{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r,this.__ngOutletInjector=!0}get(e,t){return e===mn?this.route:e===Ji?this.childContexts:this.parent.get(e,t)}},hu=new O("");function cD(n,e,t){let r=gr(n,e._root,t?t._root:void 0);return new Qi(r,e)}function gr(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=dD(n,e,t);return new he(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>gr(n,a)),s}}let r=fD(e.value),i=e.children.map(o=>gr(n,o));return new he(r,i)}}function dD(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return gr(n,r,i);return gr(n,r)})}function fD(n){return new mn(new Q(n.url),new Q(n.params),new Q(n.queryParams),new Q(n.fragment),new Q(n.data),n.outlet,n.component,n)}var kf="ngNavigationCancelingError";function Ff(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=gn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Lf(!1,pe.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Lf(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[kf]=!0,t.cancellationCode=e,t}function hD(n){return jf(n)&&gn(n.url)}function jf(n){return!!n&&n[kf]}var pD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=yt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ri],decls:1,vars:0,template:function(i,o){i&1&&pa(0,"router-outlet")},dependencies:[lD],encapsulation:2});let n=e;return n})();function gD(n,e){return n.providers&&!n._injector&&(n._injector=fa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function pu(n){let e=n.children&&n.children.map(pu),t=e?S(g({},n),{children:e}):g({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==M&&(t.component=pD),t}function Ue(n){return n.outlet||M}function mD(n,e){let t=n.filter(r=>Ue(r)===e);return t.push(...n.filter(r=>Ue(r)!==e)),t}function yr(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var vD=(n,e,t,r)=>R(i=>(new iu(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),iu=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ka(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=dn(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=dn(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=dn(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=dn(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xa(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Za(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(ka(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ka(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=yr(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Ki=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hn=class{constructor(e,t){this.component=e,this.route=t}};function yD(n,e,t){let r=n._root,i=e?e._root:null;return ir(r,i,t,[r.value])}function DD(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function yn(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Vl(n)?n:e.get(n):r}function ir(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=dn(e);return n.children.forEach(s=>{wD(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ur(a,t.getContext(s),i)),i}function wD(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=CD(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ki(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ir(n,e,a?a.children:null,r,i):ir(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hn(a.outlet.component,s))}else s&&ur(e,a,i),i.canActivateChecks.push(new Ki(r)),o.component?ir(n,null,a?a.children:null,r,i):ir(n,null,t,r,i);return i}function CD(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Mt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Mt(n.url,e.url)||!$e(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nu(n,e)||!$e(n.queryParams,e.queryParams);case"paramsChange":default:return!nu(n,e)}}function ur(n,e,t){let r=dn(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ur(s,e.children.getContext(o),t):ur(s,null,t):ur(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new hn(e.outlet.component,i)):t.canDeactivateChecks.push(new hn(null,i)):t.canDeactivateChecks.push(new hn(null,i))}function Dr(n){return typeof n=="function"}function ED(n){return typeof n=="boolean"}function bD(n){return n&&Dr(n.canLoad)}function ID(n){return n&&Dr(n.canActivate)}function _D(n){return n&&Dr(n.canActivateChild)}function MD(n){return n&&Dr(n.canDeactivate)}function SD(n){return n&&Dr(n.canMatch)}function Hf(n){return n instanceof ze||n?.name==="EmptyError"}var Bi=Symbol("INITIAL_VALUE");function vn(){return _e(n=>jr(n.map(e=>e.pipe(Ge(1),To(Bi)))).pipe(R(e=>{for(let t of e)if(t!==!0){if(t===Bi)return Bi;if(t===!1||t instanceof ot)return t}return!0}),Ie(e=>e!==Bi),Ge(1)))}function xD(n,e){return W(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?b(S(g({},t),{guardsResult:!0})):TD(s,r,i,n).pipe(W(a=>a&&ED(a)?AD(r,o,n,e):b(a)),R(a=>S(g({},t),{guardsResult:a})))})}function TD(n,e,t,r){return G(n).pipe(W(i=>kD(i.component,i.route,t,e,r)),Re(i=>i!==!0,!0))}function AD(n,e,t,r){return G(e).pipe(Ht(i=>jt(RD(i.route.parent,r),ND(i.route,r),PD(n,i.path,t),OD(n,i.route,t))),Re(i=>i!==!0,!0))}function ND(n,e){return n!==null&&e&&e(new Ka(n)),b(!0)}function RD(n,e){return n!==null&&e&&e(new Qa(n)),b(!0)}function OD(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return b(!0);let i=r.map(o=>Hr(()=>{let s=yr(e)??t,a=yn(o,s),u=ID(a)?a.canActivate(e,n):Dt(s,()=>a(e,n));return at(u).pipe(Re())}));return b(i).pipe(vn())}function PD(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>DD(s)).filter(s=>s!==null).map(s=>Hr(()=>{let a=s.guards.map(u=>{let l=yr(s.node)??t,d=yn(u,l),c=_D(d)?d.canActivateChild(r,n):Dt(l,()=>d(r,n));return at(c).pipe(Re())});return b(a).pipe(vn())}));return b(o).pipe(vn())}function kD(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return b(!0);let s=o.map(a=>{let u=yr(e)??i,l=yn(a,u),d=MD(l)?l.canDeactivate(n,e,t,r):Dt(u,()=>l(n,e,t,r));return at(d).pipe(Re())});return b(s).pipe(vn())}function FD(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return b(!0);let o=i.map(s=>{let a=yn(s,n),u=bD(a)?a.canLoad(e,t):Dt(n,()=>a(e,t));return at(u)});return b(o).pipe(vn(),Bf(r))}function Bf(n){return wo(Z(e=>{if(gn(e))throw Ff(n,e)}),R(e=>e===!0))}function LD(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return b(!0);let o=i.map(s=>{let a=yn(s,n),u=SD(a)?a.canMatch(e,t):Dt(n,()=>a(e,t));return at(u)});return b(o).pipe(vn(),Bf(r))}var mr=class{constructor(e){this.segmentGroup=e||null}},Xi=class extends Error{constructor(e){super(),this.urlTree=e}};function cn(n){return Lt(new mr(n))}function jD(n){return Lt(new C(4e3,!1))}function HD(n){return Lt(Lf(!1,pe.GuardRejected))}var ou=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return b(r);if(i.numberOfChildren>1||!i.children[M])return jD(e.redirectTo);i=i.children[M]}}applyRedirectCommands(e,t,r){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new Xi(i);return i}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ot(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new L(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},su={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BD(n,e,t,r,i){let o=gu(n,e,t);return o.matched?(r=gD(e,r),LD(r,e,t,i).pipe(R(s=>s===!0?o:g({},su)))):b(o)}function gu(n,e,t){if(e.path==="**")return VD(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?g({},su):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Fy)(t,n,e);if(!i)return g({},su);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?g(g({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function VD(n){return{matched:!0,parameters:n.length>0?Df(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function vf(n,e,t,r){return t.length>0&&zD(n,t,r)?{segmentGroup:new L(e,UD(r,new L(t,n.children))),slicedSegments:[]}:t.length===0&&GD(n,t,r)?{segmentGroup:new L(n.segments,$D(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new L(n.segments,n.children),slicedSegments:t}}function $D(n,e,t,r){let i={};for(let o of t)if(eo(n,e,o)&&!r[Ue(o)]){let s=new L([],{});i[Ue(o)]=s}return g(g({},r),i)}function UD(n,e){let t={};t[M]=e;for(let r of n)if(r.path===""&&Ue(r)!==M){let i=new L([],{});t[Ue(r)]=i}return t}function zD(n,e,t){return t.some(r=>eo(n,e,r)&&Ue(r)!==M)}function GD(n,e,t){return t.some(r=>eo(n,e,r))}function eo(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function WD(n,e,t,r){return Ue(n)!==r&&(r===M||!eo(e,t,n))?!1:gu(e,n,t).matched}function qD(n,e,t){return e.length===0&&!n.children[t]}var au=class{};function YD(n,e,t,r,i,o,s="emptyOnly"){return new uu(n,e,t,r,i,s,o).recognize()}var QD=31,uu=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ou(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=vf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(R(t=>{let r=new pr([],Object.freeze({}),Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,{},M,this.rootComponentType,null,{}),i=new he(r,t),o=new Zi("",i),s=tD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,M).pipe(Ke(r=>{if(r instanceof Xi)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof mr?this.noMatchError(r):r}))}inheritParamsAndData(e,t){let r=e.value,i=du(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,t,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(R(o=>o instanceof he?[o]:[]))}processChildren(e,t,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return G(i).pipe(Ht(o=>{let s=r.children[o],a=mD(t,o);return this.processSegmentGroup(e,a,s,o)}),xo((o,s)=>(o.push(...s),o)),Xe(null),So(),W(o=>{if(o===null)return cn(r);let s=Vf(o);return ZD(s),b(s)}))}processSegment(e,t,r,i,o,s){return G(t).pipe(Ht(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Ke(u=>{if(u instanceof mr)return b(null);throw u}))),Re(a=>!!a),Ke(a=>{if(Hf(a))return qD(r,i,o)?b(new au):cn(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return WD(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):cn(i):cn(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:d}=gu(t,i,o);if(!a)return cn(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QD&&(this.allowRedirects=!1));let c=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,c).pipe(W(f=>this.processSegment(e,r,t,f.concat(d),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){let s=BD(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(_e(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(_e(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:d,remainingSegments:c,parameters:f}=a,h=new pr(d,f,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,XD(r),Ue(r),r.component??r._loadedComponent??null,r,JD(r)),{segmentGroup:m,slicedSegments:D}=vf(t,d,c,u);if(D.length===0&&m.hasChildren())return this.processChildren(l,u,m).pipe(R(T=>T===null?null:new he(h,T)));if(u.length===0&&D.length===0)return b(new he(h,[]));let j=Ue(r)===o;return this.processSegment(l,u,m,D,j?M:o,!0).pipe(R(T=>new he(h,T instanceof he?[T]:[])))}))):cn(t)))}getChildConfig(e,t,r){return t.children?b({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?b({routes:t._loadedRoutes,injector:t._loadedInjector}):FD(e,t,r,this.urlSerializer).pipe(W(i=>i?this.configLoader.loadChildren(e,t).pipe(Z(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):HD(t))):b({routes:[],injector:e})}};function ZD(n){n.sort((e,t)=>e.value.outlet===M?-1:t.value.outlet===M?1:e.value.outlet.localeCompare(t.value.outlet))}function KD(n){let e=n.value.routeConfig;return e&&e.path===""}function Vf(n){let e=[],t=new Set;for(let r of n){if(!KD(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Vf(r.children);e.push(new he(r.value,i))}return e.filter(r=>!t.has(r))}function XD(n){return n.data||{}}function JD(n){return n.resolve||{}}function ew(n,e,t,r,i,o){return W(s=>YD(n,e,t,r,s.extractedUrl,i,o).pipe(R(({state:a,tree:u})=>S(g({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function tw(n,e){return W(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return b(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of $f(u))s.add(l);let a=0;return G(s).pipe(Ht(u=>o.has(u)?nw(u,r,n,e):(u.data=du(u,u.parent,n).resolve,b(void 0))),Z(()=>a++),Bt(1),W(u=>a===s.size?b(t):ce))})}function $f(n){let e=n.children.map(t=>$f(t)).flat();return[n,...e]}function nw(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Pf(i)&&(o[vr]=i.title),rw(o,n,e,r).pipe(R(s=>(n._resolvedData=s,n.data=du(n,n.parent,t).resolve,null)))}function rw(n,e,t,r){let i=ja(n);if(i.length===0)return b({});let o={};return G(i).pipe(W(s=>iw(n[s],e,t,r).pipe(Re(),Z(a=>{o[s]=a}))),Bt(1),Mo(o),Ke(s=>Hf(s)?ce:Lt(s)))}function iw(n,e,t,r){let i=yr(e)??r,o=yn(n,i),s=o.resolve?o.resolve(e,t):Dt(i,()=>o(e,t));return at(s)}function Fa(n){return _e(e=>{let t=n(e);return t?G(t).pipe(R(()=>e)):b(e)})}var Uf=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===M);return i}getResolvedTitleForRoute(r){return r.data[vr]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(ow),providedIn:"root"});let n=e;return n})(),ow=(()=>{let e=class e extends Uf{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(P(ff))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),mu=new O("",{providedIn:"root",factory:()=>({})}),vu=new O(""),sw=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(wa)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return b(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=at(r.loadComponent()).pipe(R(zf),Z(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),_n(()=>{this.componentLoaders.delete(r)})),o=new Ft(i,()=>new Y).pipe(kt());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return b({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=aw(i,this.compiler,r,this.onLoadEndListener).pipe(_n(()=>{this.childrenLoaders.delete(i)})),a=new Ft(s,()=>new Y).pipe(kt());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function aw(n,e,t,r){return at(n.loadChildren()).pipe(R(zf),W(i=>i instanceof Hn||Array.isArray(i)?b(i):G(e.compileModuleAsync(i))),R(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(vu,[],{optional:!0,self:!0}).flat()),{routes:s.map(pu),injector:o}}))}function uw(n){return n&&typeof n=="object"&&"default"in n}function zf(n){return uw(n)?n.default:n}var yu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(lw),providedIn:"root"});let n=e;return n})(),lw=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),cw=new O("");var dw=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Y,this.transitionAbortSubject=new Y,this.configLoader=v(sw),this.environmentInjector=v(ve),this.urlSerializer=v(cu),this.rootContexts=v(Ji),this.location=v(Jn),this.inputBindingEnabled=v(hu,{optional:!0})!==null,this.titleStrategy=v(Uf),this.options=v(mu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(yu),this.createViewTransition=v(cw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>b(void 0),this.rootComponentType=null;let r=o=>this.events.next(new qa(o)),i=o=>this.events.next(new Ya(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(S(g(g({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Q({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ar,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ie(s=>s.id!==0),R(s=>S(g({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),_e(s=>{let a=!1,u=!1;return b(s).pipe(_e(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",pe.SupersededByNewNavigation),ce;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?S(g({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&c!=="reload"){let f="";return this.events.next(new xt(l.id,this.urlSerializer.serialize(l.rawUrl),f,$a.IgnoredSameUrlNavigation)),l.resolve(null),ce}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return b(l).pipe(_e(f=>{let h=this.transitions?.getValue();return this.events.next(new cr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?ce:Promise.resolve(f)}),ew(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Z(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=S(g({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new qi(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:m,restoredState:D,extras:j}=l,T=new cr(f,this.urlSerializer.serialize(h),m,D);this.events.next(T);let ue=Rf(this.rootComponentType).snapshot;return this.currentTransition=s=S(g({},l),{targetSnapshot:ue,urlAfterRedirects:h,extras:S(g({},j),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,b(s)}else{let f="";return this.events.next(new xt(l.id,this.urlSerializer.serialize(l.extractedUrl),f,$a.IgnoredByUrlHandlingStrategy)),l.resolve(null),ce}}),Z(l=>{let d=new Ua(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),R(l=>(this.currentTransition=s=S(g({},l),{guards:yD(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),xD(this.environmentInjector,l=>this.events.next(l)),Z(l=>{if(s.guardsResult=l.guardsResult,gn(l.guardsResult))throw Ff(this.urlSerializer,l.guardsResult);let d=new za(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Ie(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",pe.GuardRejected),!1)),Fa(l=>{if(l.guards.canActivateChecks.length)return b(l).pipe(Z(d=>{let c=new Ga(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(c)}),_e(d=>{let c=!1;return b(d).pipe(tw(this.paramsInheritanceStrategy,this.environmentInjector),Z({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(d,"",pe.NoDataFromResolver)}}))}),Z(d=>{let c=new Wa(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(c)}))}),Fa(l=>{let d=c=>{let f=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(c.routeConfig).pipe(Z(h=>{c.component=h}),R(()=>{})));for(let h of c.children)f.push(...d(h));return f};return jr(d(l.targetSnapshot.root)).pipe(Xe(null),Ge(1))}),Fa(()=>this.afterPreactivation()),_e(()=>{let{currentSnapshot:l,targetSnapshot:d}=s,c=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return c?G(c).pipe(R(()=>s)):b(s)}),R(l=>{let d=cD(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=S(g({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),Z(()=>{this.events.next(new fr)}),vD(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ge(1),Z({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new St(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Mn(this.transitionAbortSubject.pipe(Z(l=>{throw l}))),_n(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",pe.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ke(l=>{if(u=!0,jf(l))this.events.next(new st(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),hD(l)?this.events.next(new hr(l.url)):s.resolve(!1);else{this.events.next(new dr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return ce}))}))}cancelNavigationTransition(r,i,o){let s=new st(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function fw(n){return n!==ar}var hw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(pw),providedIn:"root"});let n=e;return n})(),lu=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},pw=(()=>{let e=class e extends lu{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ys(e)))(o||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Gf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(gw),providedIn:"root"});let n=e;return n})(),gw=(()=>{let e=class e extends Gf{constructor(){super(...arguments),this.location=v(Jn),this.urlSerializer=v(cu),this.options=v(mu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(yu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ot,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Rf(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof cr)this.stateMemento=this.createStateMemento();else if(r instanceof xt)this.rawUrlTree=i.initialUrl;else if(r instanceof qi){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof fr?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof st&&(r.code===pe.GuardRejected||r.code===pe.NoDataFromResolver)?this.restoreHistory(i):r instanceof dr?this.restoreHistory(i,!0):r instanceof St&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=g(g({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=g(g({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ys(e)))(o||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),or=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(or||{});function mw(n,e){n.events.pipe(Ie(t=>t instanceof St||t instanceof st||t instanceof dr||t instanceof xt),R(t=>t instanceof St||t instanceof xt?or.COMPLETE:(t instanceof st?t.code===pe.Redirect||t.code===pe.SupersededByNewNavigation:!1)?or.REDIRECTING:or.FAILED),Ie(t=>t!==or.REDIRECTING),Ge(1)).subscribe(()=>{e()})}function vw(n){throw n}var yw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wf=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(Oi),this.stateManager=v(Gf),this.options=v(mu,{optional:!0})||{},this.pendingTasks=v(xi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(dw),this.urlSerializer=v(cu),this.location=v(Jn),this.urlHandlingStrategy=v(yu),this._events=new Y,this.errorHandler=this.options.errorHandler||vw,this.navigated=!1,this.routeReuseStrategy=v(hw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(vu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(hu,{optional:!0}),this.eventsSubscription=new z,this.isNgZoneEnabled=v(U)instanceof U&&U.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof st&&i.code!==pe.Redirect&&i.code!==pe.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof St)this.navigated=!0;else if(i instanceof hr){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||fw(o.source)};this.scheduleNavigation(a,ar,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Cw(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ar,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=g({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(pu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:a,c=null;switch(u){case"merge":c=g(g({},this.currentUrlTree.queryParams),s);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}c!==null&&(c=this.removeEmptyProps(c));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=xf(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return Tf(f,r,c,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=gn(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ar,null,i)}navigate(r,i={skipLocationChange:!1}){return ww(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=g({},yw):i===!1?o=g({},Dw):o=i,gn(r))return hf(this.currentUrlTree,r,o);let s=this.parseUrl(r);return hf(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,d;a?(u=a.resolve,l=a.reject,d=a.promise):d=new Promise((f,h)=>{u=f,l=h});let c=this.pendingTasks.add();return mw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function ww(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new C(4008,!1)}function Cw(n){return!(n instanceof fr)&&!(n instanceof hr)}var Ew=new O("");function qf(n,...e){return gi([{provide:vu,multi:!0,useValue:n},[],{provide:mn,useFactory:bw,deps:[Wf]},{provide:Da,multi:!0,useFactory:Iw},e.map(t=>t.\u0275providers)])}function bw(n){return n.routerState.root}function Iw(){let n=v(zn);return e=>{let t=n.get(Zn);if(e!==t.components[0])return;let r=n.get(Wf),i=n.get(_w);n.get(Mw)===1&&r.initialNavigation(),n.get(Sw,null,x.Optional)?.setUpPreloading(),n.get(Ew,null,x.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _w=new O("",{factory:()=>new Y}),Mw=new O("",{providedIn:"root",factory:()=>1});var Sw=new O("");var Yf=[];var Qf={providers:[qf(Yf)]};function Zf(n,e,t,r,i){let o=(...s)=>(console.warn("gridstack.js: Function `"+t+"` is deprecated in "+i+" and has been replaced with `"+r+"`. It will be **removed** in a future release"),e.apply(n,s));return o.prototype=e.prototype,o}var p=class n{static getElements(e,t=document){if(typeof e=="string"){let r="getElementById"in t?t:void 0;if(r&&!isNaN(+e[0])){let o=r.getElementById(e);return o?[o]:[]}let i=t.querySelectorAll(e);return!i.length&&e[0]!=="."&&e[0]!=="#"&&(i=t.querySelectorAll("."+e),i.length||(i=t.querySelectorAll("#"+e))),Array.from(i)}return[e]}static getElement(e,t=document){if(typeof e=="string"){let r="getElementById"in t?t:void 0;if(!e.length)return null;if(r&&e[0]==="#")return r.getElementById(e.substring(1));if(e[0]==="#"||e[0]==="."||e[0]==="[")return t.querySelector(e);if(r&&!isNaN(+e[0]))return r.getElementById(e);let i=t.querySelector(e);return r&&!i&&(i=r.getElementById(e)),i||(i=t.querySelector("."+e)),i}return e}static shouldSizeToContent(e,t=!1){return e?.grid&&(t?e.sizeToContent===!0||e.grid.opts.sizeToContent===!0&&e.sizeToContent===void 0:!!e.sizeToContent||e.grid.opts.sizeToContent&&e.sizeToContent!==!1)}static isIntercepted(e,t){return!(e.y>=t.y+t.h||e.y+e.h<=t.y||e.x+e.w<=t.x||e.x>=t.x+t.w)}static isTouching(e,t){return n.isIntercepted(e,{x:t.x-.5,y:t.y-.5,w:t.w+1,h:t.h+1})}static areaIntercept(e,t){let r=e.x>t.x?e.x:t.x,i=e.x+e.w<t.x+t.w?e.x+e.w:t.x+t.w;if(i<=r)return 0;let o=e.y>t.y?e.y:t.y,s=e.y+e.h<t.y+t.h?e.y+e.h:t.y+t.h;return s<=o?0:(i-r)*(s-o)}static area(e){return e.w*e.h}static sort(e,t=1){return e.sort((i,o)=>{let s=t*((i.y??1e4)-(o.y??1e4));return s===0?t*((i.x??1e4)-(o.x??1e4)):s})}static find(e,t){return t?e.find(r=>r.id===t):void 0}static createStylesheet(e,t,r){let i=document.createElement("style"),o=r?.nonce;return o&&(i.nonce=o),i.setAttribute("type","text/css"),i.setAttribute("gs-style-id",e),i.styleSheet?i.styleSheet.cssText="":i.appendChild(document.createTextNode("")),t?t.insertBefore(i,t.firstChild):(t=document.getElementsByTagName("head")[0],t.appendChild(i)),i.sheet}static removeStylesheet(e,t){let i=(t||document).querySelector("STYLE[gs-style-id="+e+"]");i&&i.parentNode&&i.remove()}static addCSSRule(e,t,r){typeof e.addRule=="function"?e.addRule(t,r):typeof e.insertRule=="function"&&e.insertRule(`${t}{${r}}`)}static toBool(e){return typeof e=="boolean"?e:typeof e=="string"?(e=e.toLowerCase(),!(e===""||e==="no"||e==="false"||e==="0")):!!e}static toNumber(e){return e===null||e.length===0?void 0:Number(e)}static parseHeight(e){let t,r="px";if(typeof e=="string")if(e==="auto"||e==="")t=0;else{let i=e.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%|cm|mm)?$/);if(!i)throw new Error(`Invalid height val = ${e}`);r=i[2]||"px",t=parseFloat(i[1])}else t=e;return{h:t,unit:r}}static defaults(e,...t){return t.forEach(r=>{for(let i in r){if(!r.hasOwnProperty(i))return;e[i]===null||e[i]===void 0?e[i]=r[i]:typeof r[i]=="object"&&typeof e[i]=="object"&&this.defaults(e[i],r[i])}}),e}static same(e,t){if(typeof e!="object")return e==t;if(typeof e!=typeof t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}static copyPos(e,t,r=!1){return t.x!==void 0&&(e.x=t.x),t.y!==void 0&&(e.y=t.y),t.w!==void 0&&(e.w=t.w),t.h!==void 0&&(e.h=t.h),r&&(t.minW&&(e.minW=t.minW),t.minH&&(e.minH=t.minH),t.maxW&&(e.maxW=t.maxW),t.maxH&&(e.maxH=t.maxH)),e}static samePos(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&(e.w||1)===(t.w||1)&&(e.h||1)===(t.h||1)}static sanitizeMinMax(e){e.minW||delete e.minW,e.minH||delete e.minH,e.maxW||delete e.maxW,e.maxH||delete e.maxH}static removeInternalAndSame(e,t){if(!(typeof e!="object"||typeof t!="object"))for(let r in e){let i=e[r];if(r[0]==="_"||i===t[r])delete e[r];else if(i&&typeof i=="object"&&t[r]!==void 0){for(let o in i)(i[o]===t[r][o]||o[0]==="_")&&delete i[o];Object.keys(i).length||delete e[r]}}}static removeInternalForSave(e,t=!0){for(let r in e)(r[0]==="_"||e[r]===null||e[r]===void 0)&&delete e[r];delete e.grid,t&&delete e.el,e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,e.locked||delete e.locked,(e.w===1||e.w===e.minW)&&delete e.w,(e.h===1||e.h===e.minH)&&delete e.h}static throttle(e,t){let r=!1;return(...i)=>{r||(r=!0,setTimeout(()=>{e(...i),r=!1},t))}}static removePositioningStyles(e){let t=e.style;t.position&&t.removeProperty("position"),t.left&&t.removeProperty("left"),t.top&&t.removeProperty("top"),t.width&&t.removeProperty("width"),t.height&&t.removeProperty("height")}static getScrollElement(e){if(!e)return document.scrollingElement||document.documentElement;let t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowY)?e:this.getScrollElement(e.parentElement)}static updateScrollPosition(e,t,r){let i=e.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight;if(i.top<0||i.bottom>o){let s=i.bottom-o,a=i.top,u=this.getScrollElement(e);if(u!==null){let l=u.scrollTop;i.top<0&&r<0?e.offsetHeight>o?u.scrollTop+=r:u.scrollTop+=Math.abs(a)>Math.abs(r)?r:a:r>0&&(e.offsetHeight>o?u.scrollTop+=r:u.scrollTop+=s>r?r:s),t.top+=u.scrollTop-l}}}static updateScrollResize(e,t,r){let i=this.getScrollElement(t),o=i.clientHeight,s=i===this.getScrollElement()?0:i.getBoundingClientRect().top,a=e.clientY-s,u=a<r,l=a>o-r;u?i.scrollBy({behavior:"smooth",top:a-r}):l&&i.scrollBy({behavior:"smooth",top:r-(o-a)})}static clone(e){return e==null||typeof e!="object"?e:e instanceof Array?[...e]:g({},e)}static cloneDeep(e){let t=["parentGrid","el","grid","subGrid","engine"],r=n.clone(e);for(let i in r)r.hasOwnProperty(i)&&typeof r[i]=="object"&&i.substring(0,2)!=="__"&&!t.find(o=>o===i)&&(r[i]=n.cloneDeep(e[i]));return r}static cloneNode(e){let t=e.cloneNode(!0);return t.removeAttribute("id"),t}static appendTo(e,t){let r;typeof t=="string"?r=n.getElement(t):r=t,r&&r.appendChild(e)}static addElStyles(e,t){if(t instanceof Object)for(let r in t)t.hasOwnProperty(r)&&(Array.isArray(t[r])?t[r].forEach(i=>{e.style[r]=i}):e.style[r]=t[r])}static initEvent(e,t){let r={type:t.type},i={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:t.target?t.target:e.target};return e.dataTransfer&&(r.dataTransfer=e.dataTransfer),["altKey","ctrlKey","metaKey","shiftKey"].forEach(o=>r[o]=e[o]),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(o=>r[o]=e[o]),g(g({},r),i)}static simulateMouseEvent(e,t,r){let i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,e.target),(r||e.target).dispatchEvent(i)}static getValuesFromTransformedElement(e){let t=document.createElement("div");n.addElStyles(t,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),e.appendChild(t);let r=t.getBoundingClientRect();return e.removeChild(t),t.remove(),{xScale:1/r.width,yScale:1/r.height,xOffset:r.left,yOffset:r.top}}};var to=(()=>{class n{constructor(t={}){this.addedNodes=[],this.removedNodes=[],this.column=t.column||12,this.maxRow=t.maxRow,this._float=t.float,this.nodes=t.nodes||[],this.onChange=t.onChange}batchUpdate(t=!0,r=!0){return!!this.batchMode===t?this:(this.batchMode=t,t?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,r&&this._packNodes(),this._notify()),this)}_useEntireRowArea(t,r){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!t._moving||t._skipDown||r.y<=t.y)}_fixCollisions(t,r=t,i,o={}){if(this.sortNodes(-1),i=i||this.collide(t,r),!i)return!1;if(t._moving&&!o.nested&&!this.float&&this.swap(t,i))return!0;let s=r;this._useEntireRowArea(t,r)&&(s={x:0,w:this.column,y:r.y,h:r.h},i=this.collide(t,s,o.skip));let a=!1,u={nested:!0,pack:!1};for(;i=i||this.collide(t,s,o.skip);){let l;if(i.locked||t._moving&&!t._skipDown&&r.y>t.y&&!this.float&&(!this.collide(i,S(g({},i),{y:t.y}),t)||!this.collide(i,S(g({},i),{y:r.y-i.h}),t))?(t._skipDown=t._skipDown||r.y>t.y,l=this.moveNode(t,g(S(g({},r),{y:i.y+i.h}),u)),i.locked&&l?p.copyPos(r,t):!i.locked&&l&&o.pack&&(this._packNodes(),r.y=i.y+i.h,p.copyPos(t,r)),a=a||l):l=this.moveNode(i,g(S(g({},i),{y:r.y+r.h,skip:t}),u)),!l)return a;i=void 0}return a}collide(t,r=t,i){let o=t._id,s=i?._id;return this.nodes.find(a=>a._id!==o&&a._id!==s&&p.isIntercepted(a,r))}collideAll(t,r=t,i){let o=t._id,s=i?._id;return this.nodes.filter(a=>a._id!==o&&a._id!==s&&p.isIntercepted(a,r))}directionCollideCoverage(t,r,i){if(!r.rect||!t._rect)return;let o=t._rect,s=g({},r.rect);s.y>o.y?(s.h+=s.y-o.y,s.y=o.y):s.h+=o.y-s.y,s.x>o.x?(s.w+=s.x-o.x,s.x=o.x):s.w+=o.x-s.x;let a,u=.5;for(let l of i){if(l.locked||!l._rect)break;let d=l._rect,c=Number.MAX_VALUE,f=Number.MAX_VALUE;o.y<d.y?c=(s.y+s.h-d.y)/d.h:o.y+o.h>d.y+d.h&&(c=(d.y+d.h-s.y)/d.h),o.x<d.x?f=(s.x+s.w-d.x)/d.w:o.x+o.w>d.x+d.w&&(f=(d.x+d.w-s.x)/d.w);let h=Math.min(f,c);h>u&&(u=h,a=l)}return r.collide=a,a}cacheRects(t,r,i,o,s,a){return this.nodes.forEach(u=>u._rect={y:u.y*r+i,x:u.x*t+a,w:u.w*t-a-o,h:u.h*r-i-s}),this}swap(t,r){if(!r||r.locked||!t||t.locked)return!1;function i(){let s=r.x,a=r.y;return r.x=t.x,r.y=t.y,t.h!=r.h?(t.x=s,t.y=r.y+r.h):t.w!=r.w?(t.x=r.x+r.w,t.y=a):(t.x=s,t.y=a),t._dirty=r._dirty=!0,!0}let o;if(t.w===r.w&&t.h===r.h&&(t.x===r.x||t.y===r.y)&&(o=p.isTouching(t,r)))return i();if(o!==!1){if(t.w===r.w&&t.x===r.x&&(o||(o=p.isTouching(t,r)))){if(r.y<t.y){let s=t;t=r,r=s}return i()}if(o!==!1){if(t.h===r.h&&t.y===r.y&&(o||(o=p.isTouching(t,r)))){if(r.x<t.x){let s=t;t=r,r=s}return i()}return!1}}}isAreaEmpty(t,r,i,o){let s={x:t||0,y:r||0,w:i||1,h:o||1};return!this.collide(s)}compact(t="compact",r=!0){if(this.nodes.length===0)return this;r&&this.sortNodes();let i=this.batchMode;i||this.batchUpdate();let o=this._inColumnResize;o||(this._inColumnResize=!0);let s=this.nodes;return this.nodes=[],s.forEach((a,u,l)=>{let d;a.locked||(a.autoPosition=!0,t==="list"&&u&&(d=l[u-1])),this.addNode(a,!1,d)}),o||delete this._inColumnResize,i||this.batchUpdate(!1),this}set float(t){this._float!==t&&(this._float=t||!1,t||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(t=1){return this.nodes=p.sort(this.nodes,t),this}_packNodes(){return this.batchMode?this:(this.sortNodes(),this.float?this.nodes.forEach(t=>{if(t._updating||t._orig===void 0||t.y===t._orig.y)return;let r=t.y;for(;r>t._orig.y;)--r,this.collide(t,{x:t.x,y:r,w:t.w,h:t.h})||(t._dirty=!0,t.y=r)}):this.nodes.forEach((t,r)=>{if(!t.locked)for(;t.y>0;){let i=r===0?0:t.y-1;if(!(r===0||!this.collide(t,{x:t.x,y:i,w:t.w,h:t.h})))break;t._dirty=t.y!==i,t.y=i}}),this)}prepareNode(t,r){t._id=t._id??n._idSeq++,(t.x===void 0||t.y===void 0||t.x===null||t.y===null)&&(t.autoPosition=!0);let i={x:0,y:0,w:1,h:1};return p.defaults(t,i),t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,p.sanitizeMinMax(t),typeof t.x=="string"&&(t.x=Number(t.x)),typeof t.y=="string"&&(t.y=Number(t.y)),typeof t.w=="string"&&(t.w=Number(t.w)),typeof t.h=="string"&&(t.h=Number(t.h)),isNaN(t.x)&&(t.x=i.x,t.autoPosition=!0),isNaN(t.y)&&(t.y=i.y,t.autoPosition=!0),isNaN(t.w)&&(t.w=i.w),isNaN(t.h)&&(t.h=i.h),this.nodeBoundFix(t,r),t}nodeBoundFix(t,r){let i=t._orig||p.copyPos({},t);if(t.maxW&&(t.w=Math.min(t.w,t.maxW)),t.maxH&&(t.h=Math.min(t.h,t.maxH)),t.minW&&t.minW<=this.column&&(t.w=Math.max(t.w,t.minW)),t.minH&&(t.h=Math.max(t.h,t.minH)),(t.x||0)+(t.w||1)>this.column&&this.column<12&&!this._inColumnResize&&t._id&&this.findCacheLayout(t,12)===-1){let s=g({},t);s.autoPosition||s.x===void 0?(delete s.x,delete s.y):s.x=Math.min(11,s.x),s.w=Math.min(12,s.w||1),this.cacheOneLayout(s,12)}return t.w>this.column?t.w=this.column:t.w<1&&(t.w=1),this.maxRow&&t.h>this.maxRow?t.h=this.maxRow:t.h<1&&(t.h=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.x+t.w>this.column&&(r?t.w=this.column-t.x:t.x=this.column-t.w),this.maxRow&&t.y+t.h>this.maxRow&&(r?t.h=this.maxRow-t.y:t.y=this.maxRow-t.h),p.samePos(t,i)||(t._dirty=!0),this}getDirtyNodes(t){return t?this.nodes.filter(r=>r._dirty&&!p.samePos(r,r._orig)):this.nodes.filter(r=>r._dirty)}_notify(t){if(this.batchMode||!this.onChange)return this;let r=(t||[]).concat(this.getDirtyNodes());return this.onChange(r),this}cleanNodes(){return this.batchMode?this:(this.nodes.forEach(t=>{delete t._dirty,delete t._lastTried}),this)}saveInitial(){return this.nodes.forEach(t=>{t._orig=p.copyPos({},t),delete t._dirty}),this._hasLocked=this.nodes.some(t=>t.locked),this}restoreInitial(){return this.nodes.forEach(t=>{p.samePos(t,t._orig)||(p.copyPos(t,t._orig),t._dirty=!0)}),this._notify(),this}findEmptyPosition(t,r=this.nodes,i=this.column,o){let s=o?o.y*i+(o.x+o.w):0,a=!1;for(let u=s;!a;++u){let l=u%i,d=Math.floor(u/i);if(l+t.w>i)continue;let c={x:l,y:d,w:t.w,h:t.h};r.find(f=>p.isIntercepted(c,f))||((t.x!==l||t.y!==d)&&(t._dirty=!0),t.x=l,t.y=d,delete t.autoPosition,a=!0)}return a}addNode(t,r=!1,i){let o=this.nodes.find(a=>a._id===t._id);if(o)return o;this._inColumnResize?this.nodeBoundFix(t):this.prepareNode(t),delete t._temporaryRemoved,delete t._removeDOM;let s;return t.autoPosition&&this.findEmptyPosition(t,this.nodes,this.column,i)&&(delete t.autoPosition,s=!0),this.nodes.push(t),r&&this.addedNodes.push(t),s||this._fixCollisions(t),this.batchMode||this._packNodes()._notify(),t}removeNode(t,r=!0,i=!1){return this.nodes.find(o=>o._id===t._id)?(i&&this.removedNodes.push(t),r&&(t._removeDOM=!0),this.nodes=this.nodes.filter(o=>o._id!==t._id),t._isAboutToRemove||this._packNodes(),this._notify([t]),this):this}removeAll(t=!0,r=!0){if(delete this._layouts,!this.nodes.length)return this;t&&this.nodes.forEach(o=>o._removeDOM=!0);let i=this.nodes;return this.removedNodes=r?i:[],this.nodes=[],this._notify(i)}moveNodeCheck(t,r){if(!this.changedPosConstrain(t,r))return!1;if(r.pack=!0,!this.maxRow)return this.moveNode(t,r);let i,o=new n({column:this.column,float:this.float,nodes:this.nodes.map(a=>a._id===t._id?(i=g({},a),i):g({},a))});if(!i)return!1;let s=o.moveNode(i,r)&&o.getRow()<=Math.max(this.getRow(),this.maxRow);if(!s&&!r.resizing&&r.collide){let a=r.collide.el.gridstackNode;if(this.swap(t,a))return this._notify(),!0}return s?(o.nodes.filter(a=>a._dirty).forEach(a=>{let u=this.nodes.find(l=>l._id===a._id);u&&(p.copyPos(u,a),u._dirty=!0)}),this._notify(),!0):!1}willItFit(t){if(delete t._willFitPos,!this.maxRow)return!0;let r=new n({column:this.column,float:this.float,nodes:this.nodes.map(o=>g({},o))}),i=g({},t);return this.cleanupNode(i),delete i.el,delete i._id,delete i.content,delete i.grid,r.addNode(i),r.getRow()<=this.maxRow?(t._willFitPos=p.copyPos({},i),!0):!1}changedPosConstrain(t,r){return r.w=r.w||t.w,r.h=r.h||t.h,t.x!==r.x||t.y!==r.y?!0:(t.maxW&&(r.w=Math.min(r.w,t.maxW)),t.maxH&&(r.h=Math.min(r.h,t.maxH)),t.minW&&(r.w=Math.max(r.w,t.minW)),t.minH&&(r.h=Math.max(r.h,t.minH)),t.w!==r.w||t.h!==r.h)}moveNode(t,r){if(!t||!r)return!1;let i;r.pack===void 0&&!this.batchMode&&(i=r.pack=!0),typeof r.x!="number"&&(r.x=t.x),typeof r.y!="number"&&(r.y=t.y),typeof r.w!="number"&&(r.w=t.w),typeof r.h!="number"&&(r.h=t.h);let o=t.w!==r.w||t.h!==r.h,s=p.copyPos({},t,!0);if(p.copyPos(s,r),this.nodeBoundFix(s,o),p.copyPos(r,s),!r.forceCollide&&p.samePos(t,r))return!1;let a=p.copyPos({},t),u=this.collideAll(t,s,r.skip),l=!0;if(u.length){let d=t._moving&&!r.nested,c=d?this.directionCollideCoverage(t,r,u):u[0];if(d&&c&&t.grid?.opts?.subGridDynamic&&!t.grid._isTemp){let f=p.areaIntercept(r.rect,c._rect),h=p.area(r.rect),m=p.area(c._rect);f/(h<m?h:m)>.8&&(c.grid.makeSubGrid(c.el,void 0,t),c=void 0)}c?l=!this._fixCollisions(t,s,c,r):(l=!1,i&&delete r.pack)}return l&&(t._dirty=!0,p.copyPos(t,s)),r.pack&&this._packNodes()._notify(),!p.samePos(t,a)}getRow(){return this.nodes.reduce((t,r)=>Math.max(t,r.y+r.h),0)}beginUpdate(t){return t._updating||(t._updating=!0,delete t._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){let t=this.nodes.find(r=>r._updating);return t&&(delete t._updating,delete t._skipDown),this}save(t=!0,r){let i=this._layouts?.length,o=i&&this.column!==i-1?this._layouts[i-1]:null,s=[];return this.sortNodes(),this.nodes.forEach(a=>{let u=o?.find(d=>d._id===a._id),l=g(g({},a),u||{});p.removeInternalForSave(l,!t),r&&r(a,l),s.push(l)}),s}layoutsNodesChange(t){return!this._layouts||this._inColumnResize?this:(this._layouts.forEach((r,i)=>{if(!r||i===this.column)return this;if(i<this.column)this._layouts[i]=void 0;else{let o=i/this.column;t.forEach(s=>{if(!s._orig)return;let a=r.find(u=>u._id===s._id);a&&(a.y>=0&&s.y!==s._orig.y&&(a.y+=s.y-s._orig.y),s.x!==s._orig.x&&(a.x=Math.round(s.x*o)),s.w!==s._orig.w&&(a.w=Math.round(s.w*o)))})}}),this)}columnChanged(t,r,i="moveScale"){if(!this.nodes.length||!r||t===r)return this;if(i==="none")return this;let o=i==="compact"||i==="list";o&&this.sortNodes(1),r<t&&this.cacheLayout(this.nodes,t),this.batchUpdate();let s=[],a=o?this.nodes:p.sort(this.nodes,-1);if(r>t&&this._layouts){let u=this._layouts[r]||[],l=this._layouts.length-1;!u.length&&t!==l&&this._layouts[l]?.length&&(t=l,this._layouts[l].forEach(d=>{let c=a.find(f=>f._id===d._id);c&&(!o&&!d.autoPosition&&(c.x=d.x??c.x,c.y=d.y??c.y),c.w=d.w??c.w,(d.x==null||d.y===void 0)&&(c.autoPosition=!0))})),u.forEach(d=>{let c=a.findIndex(f=>f._id===d._id);if(c!==-1){let f=a[c];if(o){f.w=d.w;return}(d.autoPosition||isNaN(d.x)||isNaN(d.y))&&this.findEmptyPosition(d,s),d.autoPosition||(f.x=d.x??f.x,f.y=d.y??f.y,f.w=d.w??f.w,s.push(f)),a.splice(c,1)}})}if(o)this.compact(i,!1);else{if(a.length)if(typeof i=="function")i(r,t,s,a);else{let u=o?1:r/t,l=i==="move"||i==="moveScale",d=i==="scale"||i==="moveScale";a.forEach(c=>{c.x=r===1?0:l?Math.round(c.x*u):Math.min(c.x,r-1),c.w=r===1||t===1?1:d?Math.round(c.w*u)||1:Math.min(c.w,r),s.push(c)}),a=[]}s=p.sort(s,-1),this._inColumnResize=!0,this.nodes=[],s.forEach(u=>{this.addNode(u,!1),delete u._orig})}return this.nodes.forEach(u=>delete u._orig),this.batchUpdate(!1,!o),delete this._inColumnResize,this}cacheLayout(t,r,i=!1){let o=[];return t.forEach((s,a)=>{if(s._id===void 0){let u=s.id?this.nodes.find(l=>l.id===s.id):void 0;s._id=u?._id??n._idSeq++}o[a]={x:s.x,y:s.y,w:s.w,_id:s._id}}),this._layouts=i?[]:this._layouts||[],this._layouts[r]=o,this}cacheOneLayout(t,r){t._id=t._id??n._idSeq++;let i={x:t.x,y:t.y,w:t.w,_id:t._id};(t.autoPosition||t.x===void 0)&&(delete i.x,delete i.y,t.autoPosition&&(i.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[r]=this._layouts[r]||[];let o=this.findCacheLayout(t,r);return o===-1?this._layouts[r].push(i):this._layouts[r][o]=i,this}findCacheLayout(t,r){return this._layouts?.[r]?.findIndex(i=>i._id===t._id)??-1}removeNodeFromLayoutCache(t){if(this._layouts)for(let r=0;r<this._layouts.length;r++){let i=this.findCacheLayout(t,r);i!==-1&&this._layouts[r].splice(i,1)}}cleanupNode(t){for(let r in t)r[0]==="_"&&r!=="_id"&&delete t[r];return this}}return n._idSeq=0,n})();var ae={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"},Kf={handle:".grid-stack-item-content",appendTo:"body"};var y=class{};var ie=typeof window<"u"&&typeof document<"u"&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),Ce=class{};function no(n,e){if(n.touches.length>1)return;n.cancelable&&n.preventDefault();let t=n.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(r)}function Xf(n,e){n.cancelable&&n.preventDefault();let t=document.createEvent("MouseEvents");t.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(t)}function Dn(n){Ce.touchHandled||(Ce.touchHandled=!0,no(n,"mousedown"))}function wn(n){Ce.touchHandled&&no(n,"mousemove")}function Cn(n){if(!Ce.touchHandled)return;Ce.pointerLeaveTimeout&&(window.clearTimeout(Ce.pointerLeaveTimeout),delete Ce.pointerLeaveTimeout);let e=!!y.dragElement;no(n,"mouseup"),e||no(n,"click"),Ce.touchHandled=!1}function En(n){n.pointerType!=="mouse"&&n.target.releasePointerCapture(n.pointerId)}function Du(n){y.dragElement&&n.pointerType!=="mouse"&&Xf(n,"mouseenter")}function wu(n){y.dragElement&&n.pointerType!=="mouse"&&(Ce.pointerLeaveTimeout=window.setTimeout(()=>{delete Ce.pointerLeaveTimeout,Xf(n,"mouseleave")},10))}var Jf=(()=>{class n{constructor(t,r,i){this.host=t,this.dir=r,this.option=i,this.moving=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._init()}_init(){let t=this.el=document.createElement("div");return t.classList.add("ui-resizable-handle"),t.classList.add(`${n.prefix}${this.dir}`),t.style.zIndex="100",t.style.userSelect="none",this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),ie&&(this.el.addEventListener("touchstart",Dn),this.el.addEventListener("pointerdown",En)),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),ie&&(this.el.removeEventListener("touchstart",Dn),this.el.removeEventListener("pointerdown",En)),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(t){this.mouseDownEvent=t,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),ie&&(this.el.addEventListener("touchmove",wn),this.el.addEventListener("touchend",Cn)),t.stopPropagation(),t.preventDefault()}_mouseMove(t){let r=this.mouseDownEvent;this.moving?this._triggerEvent("move",t):Math.abs(t.x-r.x)+Math.abs(t.y-r.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",t)),t.stopPropagation()}_mouseUp(t){this.moving&&this._triggerEvent("stop",t),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),ie&&(this.el.removeEventListener("touchmove",wn),this.el.removeEventListener("touchend",Cn)),delete this.moving,delete this.mouseDownEvent,t.stopPropagation(),t.preventDefault()}_triggerEvent(t,r){return this.option[t]&&this.option[t](r),this}}return n.prefix="ui-resizable-",n})();var ut=class{constructor(){this._eventRegister={}}get disabled(){return this._disabled}on(e,t){this._eventRegister[e]=t}off(e){delete this._eventRegister[e]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(e,t){if(!this.disabled&&this._eventRegister&&this._eventRegister[e])return this._eventRegister[e](t)}};var eh=(()=>{class n extends ut{constructor(t,r={}){super(),this.el=t,this.option=r,this.rectScale={x:1,y:1},this._ui=()=>{let o=this.el.parentElement.getBoundingClientRect(),s={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},a=this.temporalRect||s;return{position:{left:(a.left-o.left)*this.rectScale.x,top:(a.top-o.top)*this.rectScale.y},size:{width:a.width*this.rectScale.x,height:a.height*this.rectScale.y}}},this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this.enable(),this._setupAutoHide(this.option.autoHide),this._setupHandlers()}on(t,r){super.on(t,r)}off(t){super.off(t)}enable(){super.enable(),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)}destroy(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,super.destroy()}updateOption(t){let r=t.handles&&t.handles!==this.option.handles,i=t.autoHide&&t.autoHide!==this.option.autoHide;return Object.keys(t).forEach(o=>this.option[o]=t[o]),r&&(this._removeHandlers(),this._setupHandlers()),i&&this._setupAutoHide(this.option.autoHide),this}_setupAutoHide(t){return t?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),y.overResizeElement===this&&delete y.overResizeElement),this}_mouseOver(t){y.overResizeElement||y.dragElement||(y.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))}_mouseOut(t){y.overResizeElement===this&&(delete y.overResizeElement,this.el.classList.add("ui-resizable-autohide"))}_setupHandlers(){return this.handlers=this.option.handles.split(",").map(t=>t.trim()).map(t=>new Jf(this.el,t,{start:r=>{this._resizeStart(r)},stop:r=>{this._resizeStop(r)},move:r=>{this._resizing(r,t)}})),this}_resizeStart(t){this.sizeToContent=p.shouldSizeToContent(this.el.gridstackNode,!0),this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=p.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=t,this._setupHelper(),this._applyChange();let r=p.initEvent(t,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(r,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",r),this}_resizing(t,r){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(t,r),this._applyChange();let i=p.initEvent(t,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(i,this._ui()),this.triggerEvent("resize",i),this}_resizeStop(t){let r=p.initEvent(t,{type:"resizestop",target:this.el});return this.option.stop&&this.option.stop(r),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",r),this._cleanHelper(),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){this.elOriginStyleVal=n._originStyleProp.map(i=>this.el.style[i]),this.parentOriginStylePosition=this.el.parentElement.style.position;let t=this.el.parentElement,r=p.getValuesFromTransformedElement(t);return this.rectScale={x:r.xScale,y:r.yScale},getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return n._originStyleProp.forEach((t,r)=>{this.el.style[t]=this.elOriginStyleVal[r]||null}),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(t,r){let i=this.startEvent,o={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},s=t.clientX-i.clientX,a=this.sizeToContent?0:t.clientY-i.clientY;r.indexOf("e")>-1?o.width+=s:r.indexOf("w")>-1&&(o.width-=s,o.left+=s),r.indexOf("s")>-1?o.height+=a:r.indexOf("n")>-1&&(o.height-=a,o.top+=a);let u=this._constrainSize(o.width,o.height);return Math.round(o.width)!==Math.round(u.width)&&(r.indexOf("w")>-1&&(o.left+=o.width-u.width),o.width=u.width),Math.round(o.height)!==Math.round(u.height)&&(r.indexOf("n")>-1&&(o.top+=o.height-u.height),o.height=u.height),o}_constrainSize(t,r){let i=this.option.maxWidth||Number.MAX_SAFE_INTEGER,o=this.option.minWidth/this.rectScale.x||t,s=this.option.maxHeight||Number.MAX_SAFE_INTEGER,a=this.option.minHeight/this.rectScale.y||r,u=Math.min(i,Math.max(o,t)),l=Math.min(s,Math.max(a,r));return{width:u,height:l}}_applyChange(){let t={left:0,top:0,width:0,height:0};if(this.el.style.position==="absolute"){let r=this.el.parentElement,{left:i,top:o}=r.getBoundingClientRect();t={left:i,top:o,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach(r=>{let i=this.temporalRect[r],o=r==="width"||r==="left"?this.rectScale.x:r==="height"||r==="top"?this.rectScale.y:1;this.el.style[r]=(i-t[r])*o+"px"}),this):this}_removeHandlers(){return this.handlers.forEach(t=>t.destroy()),delete this.handlers,this}}return n._originStyleProp=["width","height","position","left","top","opacity","zIndex"],n})();var xw='input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle',th=(()=>{class n extends ut{constructor(t,r={}){super(),this.el=t,this.option=r,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0};let i=r.handle.substring(1);this.dragEl=t.classList.contains(i)?t:t.querySelector(r.handle)||t,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this.enable()}on(t,r){super.on(t,r)}off(t){super.off(t)}enable(){this.disabled!==!1&&(super.enable(),this.dragEl.addEventListener("mousedown",this._mouseDown),ie&&(this.dragEl.addEventListener("touchstart",Dn),this.dragEl.addEventListener("pointerdown",En)),this.el.classList.remove("ui-draggable-disabled"))}disable(t=!1){this.disabled!==!0&&(super.disable(),this.dragEl.removeEventListener("mousedown",this._mouseDown),ie&&(this.dragEl.removeEventListener("touchstart",Dn),this.dragEl.removeEventListener("pointerdown",En)),t||this.el.classList.add("ui-draggable-disabled"))}destroy(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.mouseDownEvent&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(t){return Object.keys(t).forEach(r=>this.option[r]=t[r]),this}_mouseDown(t){if(!y.mouseHandled)return t.button!==0||t.target.closest(xw)||this.option.cancel&&t.target.closest(this.option.cancel)||(this.mouseDownEvent=t,delete this.dragging,delete y.dragElement,delete y.dropElement,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),ie&&(this.dragEl.addEventListener("touchmove",wn),this.dragEl.addEventListener("touchend",Cn)),t.preventDefault(),document.activeElement&&document.activeElement.blur(),y.mouseHandled=!0),!0}_callDrag(t){if(!this.dragging)return;let r=p.initEvent(t,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(r,this.ui()),this.triggerEvent("drag",r)}_mouseMove(t){let r=this.mouseDownEvent;if(this.dragging)if(this._dragFollow(t),y.pauseDrag){let i=Number.isInteger(y.pauseDrag)?y.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>this._callDrag(t),i)}else this._callDrag(t);else if(Math.abs(t.x-r.x)+Math.abs(t.y-r.y)>3){this.dragging=!0,y.dragElement=this;let i=this.el.gridstackNode?.grid;i?y.dropElement=i.el.ddElement.ddDroppable:delete y.dropElement,this.helper=this._createHelper(t),this._setupHelperContainmentStyle(),this.dragTransform=p.getValuesFromTransformedElement(this.helperContainment),this.dragOffset=this._getDragOffset(t,this.el,this.helperContainment);let o=p.initEvent(t,{target:this.el,type:"dragstart"});this._setupHelperStyle(t),this.option.start&&this.option.start(o,this.ui()),this.triggerEvent("dragstart",o)}return!0}_mouseUp(t){if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),ie&&(this.dragEl.removeEventListener("touchmove",wn,!0),this.dragEl.removeEventListener("touchend",Cn,!0)),this.dragging){delete this.dragging,y.dropElement?.el===this.el.parentElement&&delete y.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper===this.el?this._removeHelperStyle():this.helper.remove();let r=p.initEvent(t,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(r),this.triggerEvent("dragstop",r),y.dropElement&&y.dropElement.drop(t)}delete this.helper,delete this.mouseDownEvent,delete y.dragElement,delete y.dropElement,delete y.mouseHandled,t.preventDefault()}_createHelper(t){let r=this.el;return typeof this.option.helper=="function"?r=this.option.helper(t):this.option.helper==="clone"&&(r=p.cloneNode(this.el)),document.body.contains(r)||p.appendTo(r,this.option.appendTo==="parent"?this.el.parentElement:this.option.appendTo),r===this.el&&(this.dragElementOriginStyle=n.originStyleProp.map(i=>this.el.style[i])),r}_setupHelperStyle(t){this.helper.classList.add("ui-draggable-dragging");let r=this.helper.style;return r.pointerEvents="none",r.width=this.dragOffset.width+"px",r.height=this.dragOffset.height+"px",r.willChange="left, top",r.position="fixed",this._dragFollow(t),r.transition="none",setTimeout(()=>{this.helper&&(r.transition=null)},0),this}_removeHelperStyle(){if(this.helper.classList.remove("ui-draggable-dragging"),!this.helper?.gridstackNode?._isAboutToRemove&&this.dragElementOriginStyle){let r=this.helper,i=this.dragElementOriginStyle.transition||null;r.style.transition=this.dragElementOriginStyle.transition="none",n.originStyleProp.forEach(o=>r.style[o]=this.dragElementOriginStyle[o]||null),setTimeout(()=>r.style.transition=i,50)}return delete this.dragElementOriginStyle,this}_dragFollow(t){let r={left:0,top:0},i=this.helper.style,o=this.dragOffset;i.left=(t.clientX+o.offsetLeft-r.left)*this.dragTransform.xScale+"px",i.top=(t.clientY+o.offsetTop-r.top)*this.dragTransform.yScale+"px"}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,this.helper.style.position!=="fixed"&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_getDragOffset(t,r,i){let o=0,s=0;i&&(o=this.dragTransform.xOffset,s=this.dragTransform.yOffset);let a=r.getBoundingClientRect();return{left:a.left,top:a.top,offsetLeft:-t.clientX+a.left-o,offsetTop:-t.clientY+a.top-s,width:a.width*this.dragTransform.xScale,height:a.height*this.dragTransform.yScale}}ui(){let r=this.el.parentElement.getBoundingClientRect(),i=this.helper.getBoundingClientRect();return{position:{top:(i.top-r.top)*this.dragTransform.yScale,left:(i.left-r.left)*this.dragTransform.xScale}}}}return n.originStyleProp=["transition","pointerEvents","position","left","top","minWidth","willChange"],n})();var ro=class extends ut{constructor(e,t={}){super(),this.el=e,this.option=t,this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this.enable(),this._setupAccept()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){this.disabled!==!1&&(super.enable(),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),ie&&(this.el.addEventListener("pointerenter",Du),this.el.addEventListener("pointerleave",wu)))}disable(e=!1){this.disabled!==!0&&(super.disable(),this.el.classList.remove("ui-droppable"),e||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),ie&&(this.el.removeEventListener("pointerenter",Du),this.el.removeEventListener("pointerleave",wu)))}destroy(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(e){return Object.keys(e).forEach(t=>this.option[t]=e[t]),this._setupAccept(),this}_mouseEnter(e){if(!y.dragElement||!this._canDrop(y.dragElement.el))return;e.preventDefault(),e.stopPropagation(),y.dropElement&&y.dropElement!==this&&y.dropElement._mouseLeave(e,!0),y.dropElement=this;let t=p.initEvent(e,{target:this.el,type:"dropover"});this.option.over&&this.option.over(t,this._ui(y.dragElement)),this.triggerEvent("dropover",t),this.el.classList.add("ui-droppable-over")}_mouseLeave(e,t=!1){if(!y.dragElement||y.dropElement!==this)return;e.preventDefault(),e.stopPropagation();let r=p.initEvent(e,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(r,this._ui(y.dragElement)),this.triggerEvent("dropout",r),y.dropElement===this&&(delete y.dropElement,!t)){let i,o=this.el.parentElement;for(;!i&&o;)i=o.ddElement?.ddDroppable,o=o.parentElement;i&&i._mouseEnter(e)}}drop(e){e.preventDefault();let t=p.initEvent(e,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(t,this._ui(y.dragElement)),this.triggerEvent("drop",t)}_canDrop(e){return e&&(!this.accept||this.accept(e))}_setupAccept(){return this.option.accept?(typeof this.option.accept=="string"?this.accept=e=>e.classList.contains(this.option.accept)||e.matches(this.option.accept):this.accept=this.option.accept,this):this}_ui(e){return g({draggable:e.el},e.ui())}};var io=class n{static init(e){return e.ddElement||(e.ddElement=new n(e)),e.ddElement}constructor(e){this.el=e}on(e,t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.on(e,t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.on(e,t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.on(e,t),this}off(e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.off(e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.off(e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.off(e),this}setupDraggable(e){return this.ddDraggable?this.ddDraggable.updateOption(e):this.ddDraggable=new th(this.el,e),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(e){return this.ddResizable?this.ddResizable.updateOption(e):this.ddResizable=new eh(this.el,e),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(e){return this.ddDroppable?this.ddDroppable.updateOption(e):this.ddDroppable=new ro(this.el,e),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}};var oo=class{resizable(e,t,r,i){return this._getDDElements(e).forEach(o=>{if(t==="disable"||t==="enable")o.ddResizable&&o.ddResizable[t]();else if(t==="destroy")o.ddResizable&&o.cleanResizable();else if(t==="option")o.setupResizable({[r]:i});else{let a=o.el.gridstackNode.grid,u=o.el.getAttribute("gs-resize-handles")||a.opts.resizable.handles||"e,s,se";u==="all"&&(u="n,e,s,w,se,sw,ne,nw");let l=!a.opts.alwaysShowResizeHandle;o.setupResizable(S(g({},a.opts.resizable),{handles:u,autoHide:l,start:t.start,stop:t.stop,resize:t.resize}))}}),this}draggable(e,t,r,i){return this._getDDElements(e).forEach(o=>{if(t==="disable"||t==="enable")o.ddDraggable&&o.ddDraggable[t]();else if(t==="destroy")o.ddDraggable&&o.cleanDraggable();else if(t==="option")o.setupDraggable({[r]:i});else{let s=o.el.gridstackNode.grid;o.setupDraggable(S(g({},s.opts.draggable),{start:t.start,stop:t.stop,drag:t.drag}))}}),this}dragIn(e,t){return this._getDDElements(e).forEach(r=>r.setupDraggable(t)),this}droppable(e,t,r,i){return typeof t.accept=="function"&&!t._accept&&(t._accept=t.accept,t.accept=o=>t._accept(o)),this._getDDElements(e).forEach(o=>{t==="disable"||t==="enable"?o.ddDroppable&&o.ddDroppable[t]():t==="destroy"?o.ddDroppable&&o.cleanDroppable():t==="option"?o.setupDroppable({[r]:i}):o.setupDroppable(t)}),this}isDroppable(e){return!!(e&&e.ddElement&&e.ddElement.ddDroppable&&!e.ddElement.ddDroppable.disabled)}isDraggable(e){return!!(e&&e.ddElement&&e.ddElement.ddDraggable&&!e.ddElement.ddDraggable.disabled)}isResizable(e){return!!(e&&e.ddElement&&e.ddElement.ddResizable&&!e.ddElement.ddResizable.disabled)}on(e,t,r){return this._getDDElements(e).forEach(i=>i.on(t,o=>{r(o,y.dragElement?y.dragElement.el:o.target,y.dragElement?y.dragElement.helper:null)})),this}off(e,t){return this._getDDElements(e).forEach(r=>r.off(t)),this}_getDDElements(e,t=!0){let r=p.getElements(e);if(!r.length)return[];let i=r.map(o=>o.ddElement||(t?io.init(o):null));return t||i.filter(o=>o),i}};var J=new oo,so=(()=>{class n{static init(t={},r=".grid-stack"){if(typeof document>"u")return null;let i=n.getGridElement(r);return i?(i.gridstack||(i.gridstack=new n(i,p.cloneDeep(t))),i.gridstack):(console.error(typeof r=="string"?'GridStack.initAll() no grid was found with selector "'+r+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`:"GridStack.init() no grid element was passed."),null)}static initAll(t={},r=".grid-stack"){let i=[];return typeof document>"u"||(n.getGridElements(r).forEach(o=>{o.gridstack||(o.gridstack=new n(o,p.cloneDeep(t))),i.push(o.gridstack)}),i.length===0&&console.error('GridStack.initAll() no grid was found with selector "'+r+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`)),i}static addGrid(t,r={}){if(!t)return null;let i=t;if(i.gridstack){let a=i.gridstack;return r&&(a.opts=g(g({},a.opts),r)),r.children!==void 0&&a.load(r.children),a}if(!t.classList.contains("grid-stack")||n.addRemoveCB)if(n.addRemoveCB)i=n.addRemoveCB(t,r,!0,!0);else{let a=document.implementation.createHTMLDocument("");a.body.innerHTML=`<div class="grid-stack ${r.class||""}"></div>`,i=a.body.children[0],t.appendChild(i)}return n.init(r,i)}static registerEngine(t){n.engineClass=t}get placeholder(){if(!this._placeholder){let t=document.createElement("div");t.className="placeholder-content",this.opts.placeholderText&&(t.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,ae.itemClass,this.opts.itemClass),this.placeholder.appendChild(t)}return this._placeholder}constructor(t,r={}){this.el=t,this.opts=r,this._gsEventHandler={},this._extraDragRow=0,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0},t.gridstack=this,r=r||{},t.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),r.row&&(r.minRow=r.maxRow=r.row,delete r.row);let i=p.toNumber(t.getAttribute("gs-row"));r.column==="auto"&&delete r.column,r.alwaysShowResizeHandle!==void 0&&(r._alwaysShowResizeHandle=r.alwaysShowResizeHandle);let o=r.columnOpts?.breakpoints,s=r;if(s.oneColumnModeDomSort&&(delete s.oneColumnModeDomSort,console.log("warning: Gridstack oneColumnModeDomSort no longer supported. Use GridStackOptions.columnOpts instead.")),s.oneColumnSize||s.disableOneColumnMode===!1){let f=s.oneColumnSize||768;delete s.oneColumnSize,delete s.disableOneColumnMode,r.columnOpts=r.columnOpts||{},o=r.columnOpts.breakpoints=r.columnOpts.breakpoints||[];let h=o.find(m=>m.c===1);h?h.w=f:(h={c:1,w:f},o.push(h,{c:12,w:f+1}))}let a=r.columnOpts;a&&(!a.columnWidth&&!a.breakpoints?.length?(delete r.columnOpts,o=void 0):a.columnMax=a.columnMax||12),o?.length>1&&o.sort((f,h)=>(h.w||0)-(f.w||0));let u=S(g({},p.cloneDeep(ae)),{column:p.toNumber(t.getAttribute("gs-column"))||ae.column,minRow:i||p.toNumber(t.getAttribute("gs-min-row"))||ae.minRow,maxRow:i||p.toNumber(t.getAttribute("gs-max-row"))||ae.maxRow,staticGrid:p.toBool(t.getAttribute("gs-static"))||ae.staticGrid,draggable:{handle:(r.handleClass?"."+r.handleClass:r.handle?r.handle:"")||ae.draggable.handle},removableOptions:{accept:r.itemClass||ae.removableOptions.accept,decline:ae.removableOptions.decline}});t.getAttribute("gs-animate")&&(u.animate=p.toBool(t.getAttribute("gs-animate"))),r=p.defaults(r,u),this._initMargin(),this.checkDynamicColumn(),this.el.classList.add("gs-"+r.column),r.rtl==="auto"&&(r.rtl=t.style.direction==="rtl"),r.rtl&&this.el.classList.add("grid-stack-rtl");let l=this.el.parentElement?.parentElement,d=l?.classList.contains(ae.itemClass)?l.gridstackNode:void 0;d&&(d.subGrid=this,this.parentGridItem=d,this.el.classList.add("grid-stack-nested"),d.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight=r.cellHeight==="auto",this._isAutoCellHeight||r.cellHeight==="initial"?this.cellHeight(void 0,!1):(typeof r.cellHeight=="number"&&r.cellHeightUnit&&r.cellHeightUnit!==ae.cellHeightUnit&&(r.cellHeight=r.cellHeight+r.cellHeightUnit,delete r.cellHeightUnit),this.cellHeight(r.cellHeight,!1)),r.alwaysShowResizeHandle==="mobile"&&(r.alwaysShowResizeHandle=ie),this._styleSheetClass="gs-id-"+to._idSeq++,this.el.classList.add(this._styleSheetClass),this._setStaticClass();let c=r.engineClass||n.engineClass||to;if(this.engine=new c({column:this.getColumn(),float:r.float,maxRow:r.maxRow,onChange:f=>{let h=0;this.engine.nodes.forEach(m=>{h=Math.max(h,m.y+m.h)}),f.forEach(m=>{let D=m.el;D&&(m._removeDOM?(D&&D.remove(),delete m._removeDOM):this._writePosAttr(D,m))}),this._updateStyles(!1,h)}}),this._updateStyles(!1,0),r.auto&&(this.batchUpdate(),this.getGridItems().forEach(f=>this._prepareElement(f)),this.batchUpdate(!1)),r.children){let f=r.children;delete r.children,f.length&&this.load(f)}this.setAnimation(r.animate),r.subGridDynamic&&!y.pauseDrag&&(y.pauseDrag=!0),r.draggable?.pause!==void 0&&(y.pauseDrag=r.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}addWidget(t,r){function i(u){return u.el!==void 0||u.x!==void 0||u.y!==void 0||u.w!==void 0||u.h!==void 0||u.content!==void 0}let o,s;if(typeof t=="string"){let u=document.implementation.createHTMLDocument("");u.body.innerHTML=t,o=u.body.children[0]}else if(arguments.length===0||arguments.length===1&&i(t))if(s=r=t,s?.el)o=s.el;else if(n.addRemoveCB)o=n.addRemoveCB(this.el,r,!0,!1);else{let u=r?.content||"",l=document.implementation.createHTMLDocument("");l.body.innerHTML=`<div class="grid-stack-item ${this.opts.itemClass||""}"><div class="grid-stack-item-content">${u}</div></div>`,o=l.body.children[0]}else o=t;if(!o)return;if(s=o.gridstackNode,s&&o.parentElement===this.el&&this.engine.nodes.find(u=>u._id===s._id))return o;let a=this._readAttr(o);return r=p.cloneDeep(r)||{},p.defaults(r,a),s=this.engine.prepareNode(r),this._writeAttr(o,r),this._insertNotAppend?this.el.prepend(o):this.el.appendChild(o),this.makeWidget(o,r),o}makeSubGrid(t,r,i,o=!0){let s=t.gridstackNode;if(s||(s=this.makeWidget(t).gridstackNode),s.subGrid?.el)return s.subGrid;let a,u=this;for(;u&&!a;)a=u.opts?.subGridOpts,u=u.parentGridItem?.grid;r=p.cloneDeep(g(S(g({},a||{}),{children:void 0}),r||s.subGridOpts||{})),s.subGridOpts=r;let l;r.column==="auto"&&(l=!0,r.column=Math.max(s.w||1,i?.w||1),delete r.columnOpts);let d=s.el.querySelector(".grid-stack-item-content"),c,f;if(o){if(this._removeDD(s.el),f=S(g({},s),{x:0,y:0}),p.removeInternalForSave(f),delete f.subGridOpts,s.content&&(f.content=s.content,delete s.content),n.addRemoveCB)c=n.addRemoveCB(this.el,f,!0,!1);else{let m=document.implementation.createHTMLDocument("");m.body.innerHTML='<div class="grid-stack-item"></div>',c=m.body.children[0],c.appendChild(d),m.body.innerHTML='<div class="grid-stack-item-content"></div>',d=m.body.children[0],s.el.appendChild(d)}this._prepareDragDropByNode(s)}if(i){let m=l?r.column:s.w,D=s.h+i.h,j=s.el.style;j.transition="none",this.update(s.el,{w:m,h:D}),setTimeout(()=>j.transition=null)}let h=s.subGrid=n.addGrid(d,r);return i?._moving&&(h._isTemp=!0),l&&(h._autoColumn=!0),o&&h.addWidget(c,f),i&&(i._moving?window.setTimeout(()=>p.simulateMouseEvent(i._event,"mouseenter",h.el),0):h.addWidget(s.el,s)),h}removeAsSubGrid(t){let r=this.parentGridItem?.grid;r&&(r.batchUpdate(),r.removeWidget(this.parentGridItem.el,!0,!0),this.engine.nodes.forEach(i=>{i.x+=this.parentGridItem.x,i.y+=this.parentGridItem.y,r.addWidget(i.el,i)}),r.batchUpdate(!1),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,t&&window.setTimeout(()=>p.simulateMouseEvent(t._event,"mouseenter",r.el),0))}save(t=!0,r=!1,i=n.saveCB){let o=this.engine.save(t,i);if(o.forEach(s=>{if(t&&s.el&&!s.subGrid&&!i){let a=s.el.querySelector(".grid-stack-item-content");s.content=a?a.innerHTML:void 0,s.content||delete s.content}else if(!t&&!i&&delete s.content,s.subGrid?.el){let a=s.subGrid.save(t,r,i);s.subGridOpts=r?a:{children:a},delete s.subGrid}delete s.el}),r){let s=p.cloneDeep(this.opts);s.marginBottom===s.marginTop&&s.marginRight===s.marginLeft&&s.marginTop===s.marginRight&&(s.margin=s.marginTop,delete s.marginTop,delete s.marginRight,delete s.marginBottom,delete s.marginLeft),s.rtl===(this.el.style.direction==="rtl")&&(s.rtl="auto"),this._isAutoCellHeight&&(s.cellHeight="auto"),this._autoColumn&&(s.column="auto");let a=s._alwaysShowResizeHandle;return delete s._alwaysShowResizeHandle,a!==void 0?s.alwaysShowResizeHandle=a:delete s.alwaysShowResizeHandle,p.removeInternalAndSame(s,ae),s.children=o,s}return o}load(t,r=n.addRemoveCB||!0){t=p.cloneDeep(t);let i=this.getColumn(),o=t.filter(c=>(c.x===void 0||c.y===void 0)&&!p.find(this.engine.nodes,c.id));o.length&&o.length!==t.length?t=t.filter(c=>!p.find(o,c.id)):o=[];let s=t.some(c=>c.x!==void 0||c.y!==void 0);s&&(t=p.sort(t,-1)),this._insertNotAppend=s,t.some(c=>(c.x||0)+(c.w||1)>i)&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(t,12,!0));let a=n.addRemoveCB;typeof r=="function"&&(n.addRemoveCB=r);let u=[];this.batchUpdate();let l=!this.engine.nodes.length;l&&this.setAnimation(!1),r&&[...this.engine.nodes].forEach(f=>{if(!f.id)return;p.find(t,f.id)||(n.addRemoveCB&&n.addRemoveCB(this.el,f,!1,!1),u.push(f),this.removeWidget(f.el,!0,!1))});let d=[];return this.engine.nodes=this.engine.nodes.filter(c=>p.find(t,c.id)?(d.push(c),!1):!0),t.forEach(c=>{let f=p.find(d,c.id);if(f){if(p.shouldSizeToContent(f)&&(c.h=f.h),this.engine.nodeBoundFix(c),(c.autoPosition||c.x===void 0||c.y===void 0)&&(c.w=c.w||f.w,c.h=c.h||f.h,this.engine.findEmptyPosition(c)),this.engine.nodes.push(f),p.samePos(f,c)&&this.moveNode(f,S(g({},c),{forceCollide:!0})),this.update(f.el,c),c.subGridOpts?.children){let h=f.el.querySelector(".grid-stack");h&&h.gridstack&&(h.gridstack.load(c.subGridOpts.children),this._insertNotAppend=!0)}}else r&&this.addWidget(c)}),r&&o.forEach(c=>this.addWidget(c)),this.engine.removedNodes=u,this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,delete this._insertNotAppend,a?n.addRemoveCB=a:delete n.addRemoveCB,l&&this.opts?.animate&&setTimeout(()=>{this.opts&&this.setAnimation(this.opts.animate)}),this}batchUpdate(t=!0){return this.engine.batchUpdate(t),t||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this}getCellHeight(t=!1){if(this.opts.cellHeight&&this.opts.cellHeight!=="auto"&&(!t||!this.opts.cellHeightUnit||this.opts.cellHeightUnit==="px"))return this.opts.cellHeight;if(this.opts.cellHeightUnit==="rem")return this.opts.cellHeight*parseFloat(getComputedStyle(document.documentElement).fontSize);if(this.opts.cellHeightUnit==="em")return this.opts.cellHeight*parseFloat(getComputedStyle(this.el).fontSize);if(this.opts.cellHeightUnit==="cm")return this.opts.cellHeight*(96/2.54);if(this.opts.cellHeightUnit==="mm")return this.opts.cellHeight*(96/2.54)/10;let r=this.el.querySelector("."+this.opts.itemClass);if(r){let o=p.toNumber(r.getAttribute("gs-h"))||1;return Math.round(r.offsetHeight/o)}let i=parseInt(this.el.getAttribute("gs-current-row"));return i?Math.round(this.el.getBoundingClientRect().height/i):this.opts.cellHeight}cellHeight(t,r=!0){if(r&&t!==void 0&&this._isAutoCellHeight!==(t==="auto")&&(this._isAutoCellHeight=t==="auto",this._updateResizeEvent()),(t==="initial"||t==="auto")&&(t=void 0),t===void 0){let o=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;t=this.cellWidth()+o}let i=p.parseHeight(t);return this.opts.cellHeightUnit===i.unit&&this.opts.cellHeight===i.h?this:(this.opts.cellHeightUnit=i.unit,this.opts.cellHeight=i.h,this.resizeToContentCheck(),r&&this._updateStyles(!0),this)}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(t=!1){return t&&this.opts.columnOpts?.breakpointForWindow?window.innerWidth:this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}checkDynamicColumn(){let t=this.opts.columnOpts;if(!t||!t.columnWidth&&!t.breakpoints?.length)return!1;let r=this.getColumn(),i=r,o=this._widthOrContainer(!0);if(t.columnWidth)i=Math.min(Math.round(o/t.columnWidth)||1,t.columnMax);else{i=t.columnMax;let s=0;for(;s<t.breakpoints.length&&o<=t.breakpoints[s].w;)i=t.breakpoints[s++].c||r}if(i!==r){let s=t.breakpoints?.find(a=>a.c===i);return this.column(i,s?.layout||t.layout),!0}return!1}compact(t="compact",r=!0){return this.engine.compact(t,r),this._triggerChangeEvent(),this}column(t,r="moveScale"){if(!t||t<1||this.opts.column===t)return this;let i=this.getColumn();return this.opts.column=t,this.engine?(this.engine.column=t,this.el.classList.remove("gs-"+i),this.el.classList.add("gs-"+t),this.engine.columnChanged(i,t,r),this._isAutoCellHeight&&this.cellHeight(),this.resizeToContentCheck(!0),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this):this}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter(t=>t.matches("."+this.opts.itemClass)&&!t.matches("."+this.opts.placeholderClass))}destroy(t=!0){if(this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),t?this.el.parentNode.removeChild(this.el):(this.removeAll(t),this.el.classList.remove(this._styleSheetClass),this.el.removeAttribute("gs-current-row")),this._removeStylesheet(),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(t){return this.opts.float!==t&&(this.opts.float=this.engine.float=t,this._triggerChangeEvent()),this}getFloat(){return this.engine.float}getCellFromPixel(t,r=!1){let i=this.el.getBoundingClientRect(),o;r?o={top:i.top+document.documentElement.scrollTop,left:i.left}:o={top:this.el.offsetTop,left:this.el.offsetLeft};let s=t.left-o.left,a=t.top-o.top,u=i.width/this.getColumn(),l=i.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(s/u),y:Math.floor(a/l)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow)}isAreaEmpty(t,r,i,o){return this.engine.isAreaEmpty(t,r,i,o)}makeWidget(t,r){let i=n.getElement(t);this._prepareElement(i,!0,r);let o=i.gridstackNode;return this._updateContainerHeight(),o.subGridOpts&&this.makeSubGrid(i,o.subGridOpts,void 0,!1),this.opts.column===1&&(this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,i}on(t,r){return t.indexOf(" ")!==-1?(t.split(" ").forEach(o=>this.on(o,r)),this):(t==="change"||t==="added"||t==="removed"||t==="enable"||t==="disable"?(t==="enable"||t==="disable"?this._gsEventHandler[t]=o=>r(o):this._gsEventHandler[t]=o=>r(o,o.detail),this.el.addEventListener(t,this._gsEventHandler[t])):t==="drag"||t==="dragstart"||t==="dragstop"||t==="resizestart"||t==="resize"||t==="resizestop"||t==="dropped"||t==="resizecontent"?this._gsEventHandler[t]=r:console.error("GridStack.on("+t+") event not supported"),this)}off(t){return t.indexOf(" ")!==-1?(t.split(" ").forEach(i=>this.off(i)),this):((t==="change"||t==="added"||t==="removed"||t==="enable"||t==="disable")&&this._gsEventHandler[t]&&this.el.removeEventListener(t,this._gsEventHandler[t]),delete this._gsEventHandler[t],this)}offAll(){return Object.keys(this._gsEventHandler).forEach(t=>this.off(t)),this}removeWidget(t,r=!0,i=!0){return n.getElements(t).forEach(o=>{if(o.parentElement&&o.parentElement!==this.el)return;let s=o.gridstackNode;s||(s=this.engine.nodes.find(a=>o===a.el)),s&&(r&&n.addRemoveCB&&n.addRemoveCB(this.el,s,!1,!1),delete o.gridstackNode,this._removeDD(o),this.engine.removeNode(s,r,i),r&&o.parentElement&&o.remove())}),i&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this}removeAll(t=!0,r=!0){return this.engine.nodes.forEach(i=>{t&&n.addRemoveCB&&n.addRemoveCB(this.el,i,!1,!1),delete i.el.gridstackNode,this.opts.staticGrid||this._removeDD(i.el)}),this.engine.removeAll(t,r),r&&this._triggerRemoveEvent(),this}setAnimation(t){return t?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}hasAnimationCSS(){return this.el.classList.contains("grid-stack-animate")}setStatic(t,r=!0,i=!0){return!!this.opts.staticGrid===t?this:(t?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach(o=>{this._prepareDragDropByNode(o),o.subGrid&&i&&o.subGrid.setStatic(t,r,i)}),r&&this._setStaticClass(),this)}update(t,r){if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");let i=arguments,o=1;return r={x:i[o++],y:i[o++],w:i[o++],h:i[o++]},this.update(t,r)}return n.getElements(t).forEach(i=>{let o=i?.gridstackNode;if(!o)return;let s=p.cloneDeep(r);this.engine.nodeBoundFix(s),delete s.autoPosition,delete s.id;let a=["x","y","w","h"],u;if(a.some(c=>s[c]!==void 0&&s[c]!==o[c])&&(u={},a.forEach(c=>{u[c]=s[c]!==void 0?s[c]:o[c],delete s[c]})),!u&&(s.minW||s.minH||s.maxW||s.maxH)&&(u={}),s.content!==void 0){let c=i.querySelector(".grid-stack-item-content");c&&c.innerHTML!==s.content&&(c.innerHTML=s.content,o.subGrid?.el&&(c.appendChild(o.subGrid.el),o.subGrid.opts.styleInHead||o.subGrid._updateStyles(!0))),delete s.content}let l=!1,d=!1;for(let c in s)c[0]!=="_"&&o[c]!==s[c]&&(o[c]=s[c],l=!0,d=d||!this.opts.staticGrid&&(c==="noResize"||c==="noMove"||c==="locked"));if(p.sanitizeMinMax(o),u){let c=u.w!==void 0&&u.w!==o.w;this.moveNode(o,u),this.resizeToContentCheck(c,o)}(u||l)&&this._writeAttr(i,o),d&&this._prepareDragDropByNode(o)}),this}moveNode(t,r){this.engine.cleanNodes().beginUpdate(t).moveNode(t,r),this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate()}resizeToContent(t){if(!t||(t.classList.remove("size-to-content-max"),!t.clientHeight))return;let r=t.gridstackNode;if(!r)return;let i=r.grid;if(!i||t.parentElement!==i.el)return;let o=i.getCellHeight(!0);if(!o)return;let s=r.h?r.h*o:t.clientHeight,a;if(r.resizeToContentParent&&(a=t.querySelector(r.resizeToContentParent)),a||(a=t.querySelector(n.resizeToContentParent)),!a)return;let u=t.clientHeight-a.clientHeight,l=r.h?r.h*o-u:a.clientHeight,d;if(r.subGrid)d=r.subGrid.getRow()*r.subGrid.getCellHeight(!0);else{let h=a.firstElementChild;if(!h){console.error(`Error: GridStack.resizeToContent() widget id:${r.id} '${n.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);return}d=h.getBoundingClientRect().height||l}if(l===d)return;s+=d-l;let c=Math.ceil(s/o),f=Number.isInteger(r.sizeToContent)?r.sizeToContent:0;f&&c>f&&(c=f,t.classList.add("size-to-content-max")),r.minH&&c<r.minH?c=r.minH:r.maxH&&c>r.maxH&&(c=r.maxH),c!==r.h&&(i._ignoreLayoutsNodeChange=!0,i.moveNode(r,{h:c}),delete i._ignoreLayoutsNodeChange)}resizeToContentCBCheck(t){n.resizeToContentCB?n.resizeToContentCB(t):this.resizeToContent(t)}margin(t){if(!(typeof t=="string"&&t.split(" ").length>1)){let i=p.parseHeight(t);if(this.opts.marginUnit===i.unit&&this.opts.margin===i.h)return}return this.opts.margin=t,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this}getMargin(){return this.opts.margin}willItFit(t){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");let r=arguments,i=0,o={x:r[i++],y:r[i++],w:r[i++],h:r[i++],autoPosition:r[i++]};return this.willItFit(o)}return this.engine.willItFit(t)}_triggerChangeEvent(){if(this.engine.batchMode)return this;let t=this.engine.getDirtyNodes(!0);return t&&t.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(t),this._triggerEvent("change",t)),this.engine.saveInitial(),this}_triggerAddEvent(){if(this.engine.batchMode)return this;if(this.engine.addedNodes?.length){this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach(r=>{delete r._dirty});let t=[...this.engine.addedNodes];this.engine.addedNodes=[],this._triggerEvent("added",t)}return this}_triggerRemoveEvent(){if(this.engine.batchMode)return this;if(this.engine.removedNodes?.length){let t=[...this.engine.removedNodes];this.engine.removedNodes=[],this._triggerEvent("removed",t)}return this}_triggerEvent(t,r){let i=r?new CustomEvent(t,{bubbles:!1,detail:r}):new Event(t);return this.el.dispatchEvent(i),this}_removeStylesheet(){if(this._styles){let t=this.opts.styleInHead?void 0:this.el.parentNode;p.removeStylesheet(this._styleSheetClass,t),delete this._styles}return this}_updateStyles(t=!1,r){if(t&&this._removeStylesheet(),r===void 0&&(r=this.getRow()),this._updateContainerHeight(),this.opts.cellHeight===0)return this;let i=this.opts.cellHeight,o=this.opts.cellHeightUnit,s=`.${this._styleSheetClass} > .${this.opts.itemClass}`;if(!this._styles){let a=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=p.createStylesheet(this._styleSheetClass,a,{nonce:this.opts.nonce}),!this._styles)return this;this._styles._max=0,p.addCSSRule(this._styles,s,`height: ${i}${o}`);let u=this.opts.marginTop+this.opts.marginUnit,l=this.opts.marginBottom+this.opts.marginUnit,d=this.opts.marginRight+this.opts.marginUnit,c=this.opts.marginLeft+this.opts.marginUnit,f=`${s} > .grid-stack-item-content`,h=`.${this._styleSheetClass} > .grid-stack-placeholder > .placeholder-content`;p.addCSSRule(this._styles,f,`top: ${u}; right: ${d}; bottom: ${l}; left: ${c};`),p.addCSSRule(this._styles,h,`top: ${u}; right: ${d}; bottom: ${l}; left: ${c};`),p.addCSSRule(this._styles,`${s} > .ui-resizable-n`,`top: ${u};`),p.addCSSRule(this._styles,`${s} > .ui-resizable-s`,`bottom: ${l}`),p.addCSSRule(this._styles,`${s} > .ui-resizable-ne`,`right: ${d}`),p.addCSSRule(this._styles,`${s} > .ui-resizable-e`,`right: ${d}`),p.addCSSRule(this._styles,`${s} > .ui-resizable-se`,`right: ${d}; bottom: ${l}`),p.addCSSRule(this._styles,`${s} > .ui-resizable-nw`,`left: ${c}`),p.addCSSRule(this._styles,`${s} > .ui-resizable-w`,`left: ${c}`),p.addCSSRule(this._styles,`${s} > .ui-resizable-sw`,`left: ${c}; bottom: ${l}`)}if(r=r||this._styles._max,r>this._styles._max){let a=u=>i*u+o;for(let u=this._styles._max+1;u<=r;u++)p.addCSSRule(this._styles,`${s}[gs-y="${u}"]`,`top: ${a(u)}`),p.addCSSRule(this._styles,`${s}[gs-h="${u+1}"]`,`height: ${a(u+1)}`);this._styles._max=r}return this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;let t=this.parentGridItem,r=this.getRow()+this._extraDragRow,i=this.opts.cellHeight,o=this.opts.cellHeightUnit;if(!i)return this;if(!t){let s=p.parseHeight(getComputedStyle(this.el).minHeight);if(s.h>0&&s.unit===o){let a=Math.floor(s.h/i);r<a&&(r=a)}}return this.el.setAttribute("gs-current-row",String(r)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),r&&(this.el.style[t?"minHeight":"height"]=r*i+o),t&&!t.grid.engine.batchMode&&p.shouldSizeToContent(t)&&t.grid.resizeToContentCBCheck(t.el),this}_prepareElement(t,r=!1,i){i=i||this._readAttr(t),t.gridstackNode=i,i.el=t,i.grid=this,i=this.engine.addNode(i,r),this._writeAttr(t,i),t.classList.add(ae.itemClass,this.opts.itemClass);let o=p.shouldSizeToContent(i);return o?t.classList.add("size-to-content"):t.classList.remove("size-to-content"),o&&this.resizeToContentCheck(!1,i),this._prepareDragDropByNode(i),this}_writePosAttr(t,r){return r.x!==void 0&&r.x!==null&&t.setAttribute("gs-x",String(r.x)),r.y!==void 0&&r.y!==null&&t.setAttribute("gs-y",String(r.y)),r.w>1?t.setAttribute("gs-w",String(r.w)):t.removeAttribute("gs-w"),r.h>1?t.setAttribute("gs-h",String(r.h)):t.removeAttribute("gs-h"),this}_writeAttr(t,r){if(!r)return this;this._writePosAttr(t,r);let i={autoPosition:"gs-auto-position",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id"};for(let o in i)r[o]?t.setAttribute(i[o],String(r[o])):t.removeAttribute(i[o]);return this}_readAttr(t,r=!0){let i={};i.x=p.toNumber(t.getAttribute("gs-x")),i.y=p.toNumber(t.getAttribute("gs-y")),i.w=p.toNumber(t.getAttribute("gs-w")),i.h=p.toNumber(t.getAttribute("gs-h")),i.autoPosition=p.toBool(t.getAttribute("gs-auto-position")),i.noResize=p.toBool(t.getAttribute("gs-no-resize")),i.noMove=p.toBool(t.getAttribute("gs-no-move")),i.locked=p.toBool(t.getAttribute("gs-locked")),i.id=t.getAttribute("gs-id"),i.maxW=p.toNumber(t.getAttribute("gs-max-w")),i.minW=p.toNumber(t.getAttribute("gs-min-w")),i.maxH=p.toNumber(t.getAttribute("gs-max-h")),i.minH=p.toNumber(t.getAttribute("gs-min-h")),r&&(i.w===1&&t.removeAttribute("gs-w"),i.h===1&&t.removeAttribute("gs-h"),i.maxW&&t.removeAttribute("gs-max-w"),i.minW&&t.removeAttribute("gs-min-w"),i.maxH&&t.removeAttribute("gs-max-h"),i.minH&&t.removeAttribute("gs-min-h"));for(let o in i){if(!i.hasOwnProperty(o))return;!i[o]&&i[o]!==0&&delete i[o]}return i}_setStaticClass(){let t=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...t),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...t),this.el.removeAttribute("gs-static")),this}onResize(){if(!this.el?.clientWidth||this.prevWidth===this.el.clientWidth)return;this.prevWidth=this.el.clientWidth,this.batchUpdate();let t=!1;return this._autoColumn&&this.parentGridItem?this.opts.column!==this.parentGridItem.w&&(this.column(this.parentGridItem.w,"none"),t=!0):t=this.checkDynamicColumn(),this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach(r=>{r.subGrid&&r.subGrid.onResize()}),this._skipInitialResize||this.resizeToContentCheck(t),delete this._skipInitialResize,this.batchUpdate(!1),this}resizeToContentCheck(t=!1,r=void 0){if(this.engine){if(t&&this.hasAnimationCSS())return setTimeout(()=>this.resizeToContentCheck(!1,r),310);if(r)p.shouldSizeToContent(r)&&this.resizeToContentCBCheck(r.el);else if(this.engine.nodes.some(i=>p.shouldSizeToContent(i))){let i=[...this.engine.nodes];this.batchUpdate(),i.forEach(o=>{p.shouldSizeToContent(o)&&this.resizeToContentCBCheck(o.el)}),this.batchUpdate(!1)}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,r?[r]:this.engine.nodes)}}_updateResizeEvent(t=!1){let r=!this.parentGridItem&&(this._isAutoCellHeight||this.opts.sizeToContent||this.opts.columnOpts||this.engine.nodes.find(i=>i.sizeToContent));return!t&&r&&!this.resizeObserver?(this._sizeThrottle=p.throttle(()=>this.onResize(),this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver(()=>this._sizeThrottle()),this.resizeObserver.observe(this.el),this._skipInitialResize=!0):(t||!r)&&this.resizeObserver&&(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle),this}static getElement(t=".grid-stack-item"){return p.getElement(t)}static getElements(t=".grid-stack-item"){return p.getElements(t)}static getGridElement(t){return n.getElement(t)}static getGridElements(t){return p.getElements(t)}_initMargin(){let t,r=0,i=[];return typeof this.opts.margin=="string"&&(i=this.opts.margin.split(" ")),i.length===2?(this.opts.marginTop=this.opts.marginBottom=i[0],this.opts.marginLeft=this.opts.marginRight=i[1]):i.length===4?(this.opts.marginTop=i[0],this.opts.marginRight=i[1],this.opts.marginBottom=i[2],this.opts.marginLeft=i[3]):(t=p.parseHeight(this.opts.margin),this.opts.marginUnit=t.unit,r=this.opts.margin=t.h),this.opts.marginTop===void 0?this.opts.marginTop=r:(t=p.parseHeight(this.opts.marginTop),this.opts.marginTop=t.h,delete this.opts.margin),this.opts.marginBottom===void 0?this.opts.marginBottom=r:(t=p.parseHeight(this.opts.marginBottom),this.opts.marginBottom=t.h,delete this.opts.margin),this.opts.marginRight===void 0?this.opts.marginRight=r:(t=p.parseHeight(this.opts.marginRight),this.opts.marginRight=t.h,delete this.opts.margin),this.opts.marginLeft===void 0?this.opts.marginLeft=r:(t=p.parseHeight(this.opts.marginLeft),this.opts.marginLeft=t.h,delete this.opts.margin),this.opts.marginUnit=t.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}static getDD(){return J}static setupDragIn(t,r,i=document){r?.pause!==void 0&&(y.pauseDrag=r.pause),r=g(g({},Kf),r||{});let o=typeof t=="string"?p.getElements(t,i):t;o.length&&o?.forEach(s=>{J.isDraggable(s)||J.dragIn(s,r)})}movable(t,r){return this.opts.staticGrid?this:(n.getElements(t).forEach(i=>{let o=i.gridstackNode;o&&(r?delete o.noMove:o.noMove=!0,this._prepareDragDropByNode(o))}),this)}resizable(t,r){return this.opts.staticGrid?this:(n.getElements(t).forEach(i=>{let o=i.gridstackNode;o&&(r?delete o.noResize:o.noResize=!0,this._prepareDragDropByNode(o))}),this)}disable(t=!0){if(!this.opts.staticGrid)return this.enableMove(!1,t),this.enableResize(!1,t),this._triggerEvent("disable"),this}enable(t=!0){if(!this.opts.staticGrid)return this.enableMove(!0,t),this.enableResize(!0,t),this._triggerEvent("enable"),this}enableMove(t,r=!0){return this.opts.staticGrid?this:(t?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach(i=>{this._prepareDragDropByNode(i),i.subGrid&&r&&i.subGrid.enableMove(t,r)}),this)}enableResize(t,r=!0){return this.opts.staticGrid?this:(t?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach(i=>{this._prepareDragDropByNode(i),i.subGrid&&r&&i.subGrid.enableResize(t,r)}),this)}_removeDD(t){return J.draggable(t,"destroy").resizable(t,"destroy"),t.gridstackNode&&delete t.gridstackNode._initDD,delete t.ddElement,this}_setupAcceptWidget(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return J.droppable(this.el,"destroy"),this;let t,r,i=(o,s,a)=>{let u=s.gridstackNode;if(!u)return;if(a=a||s,!u.grid?.el){a.style.transform=`scale(${1/this.dragTransform.xScale},${1/this.dragTransform.yScale})`;let h=a.getBoundingClientRect();a.style.left=h.x+(this.dragTransform.xScale-1)*(o.clientX-h.x)/this.dragTransform.xScale+"px",a.style.top=h.y+(this.dragTransform.yScale-1)*(o.clientY-h.y)/this.dragTransform.yScale+"px",a.style.transformOrigin="0px 0px"}let l=this.el.getBoundingClientRect(),{top:d,left:c}=a.getBoundingClientRect();c-=l.left,d-=l.top;let f={position:{top:d*this.dragTransform.xScale,left:c*this.dragTransform.yScale}};if(u._temporaryRemoved){if(u.x=Math.max(0,Math.round(c/r)),u.y=Math.max(0,Math.round(d/t)),delete u.autoPosition,this.engine.nodeBoundFix(u),!this.engine.willItFit(u)){if(u.autoPosition=!0,!this.engine.willItFit(u)){J.off(s,"drag");return}u._willFitPos&&(p.copyPos(u,u._willFitPos),delete u._willFitPos)}this._onStartMoving(a,o,f,u,r,t)}else this._dragOrResize(a,o,f,u,r,t)};return J.droppable(this.el,{accept:o=>{let s=o.gridstackNode||this._readAttr(o,!1);if(s?.grid===this)return!0;if(!this.opts.acceptWidgets)return!1;let a=!0;if(typeof this.opts.acceptWidgets=="function")a=this.opts.acceptWidgets(o);else{let u=this.opts.acceptWidgets===!0?".grid-stack-item":this.opts.acceptWidgets;a=o.matches(u)}if(a&&s&&this.opts.maxRow){let u={w:s.w,h:s.h,minW:s.minW,minH:s.minH};a=this.engine.willItFit(u)}return a}}).on(this.el,"dropover",(o,s,a)=>{let u=s.gridstackNode;if(u?.grid===this&&!u._temporaryRemoved)return!1;u?.grid&&u.grid!==this&&!u._temporaryRemoved&&u.grid._leave(s,a),r=this.cellWidth(),t=this.getCellHeight(!0),u||(u=this._readAttr(s,!1)),u.grid||(u._isExternal=!0,s.gridstackNode=u),a=a||s;let l=u.w||Math.round(a.offsetWidth/r)||1,d=u.h||Math.round(a.offsetHeight/t)||1;return u.grid&&u.grid!==this?(s._gridstackNodeOrig||(s._gridstackNodeOrig=u),s.gridstackNode=u=S(g({},u),{w:l,h:d,grid:this}),delete u.x,delete u.y,this.engine.cleanupNode(u).nodeBoundFix(u),u._initDD=u._isExternal=u._temporaryRemoved=!0):(u.w=l,u.h=d,u._temporaryRemoved=!0),n._itemRemoving(u.el,!1),J.on(s,"drag",i),i(o,s,a),!1}).on(this.el,"dropout",(o,s,a)=>{let u=s.gridstackNode;return u&&(!u.grid||u.grid===this)&&(this._leave(s,a),this._isTemp&&this.removeAsSubGrid(u)),!1}).on(this.el,"drop",(o,s,a)=>{let u=s.gridstackNode;if(u?.grid===this&&!u._isExternal)return!1;let l=!!this.placeholder.parentElement;this.placeholder.remove();let d=l&&this.opts.animate;d&&this.setAnimation(!1);let c=s._gridstackNodeOrig;if(delete s._gridstackNodeOrig,l&&c?.grid&&c.grid!==this){let h=c.grid;h.engine.removeNodeFromLayoutCache(c),h.engine.removedNodes.push(c),h._triggerRemoveEvent()._triggerChangeEvent(),h.parentGridItem&&!h.engine.nodes.length&&h.opts.subGridDynamic&&h.removeAsSubGrid()}if(!u||(l&&(this.engine.cleanupNode(u),u.grid=this),delete u.grid._isTemp,J.off(s,"drag"),a!==s?(a.remove(),s.gridstackNode=c,l&&(s=s.cloneNode(!0))):(s.remove(),this._removeDD(s)),!l))return!1;s.gridstackNode=u,u.el=s;let f=u.subGrid?.el?.gridstack;return p.copyPos(u,this._readAttr(this.placeholder)),p.removePositioningStyles(s),this.el.appendChild(s),this._prepareElement(s,!0,u),f&&(f.parentGridItem=u,f.opts.styleInHead||f._updateStyles(!0)),this._updateContainerHeight(),this.engine.addedNodes.push(u),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped(S(g({},o),{type:"dropped"}),c&&c.grid?c:void 0,u),d&&setTimeout(()=>{this.opts&&this.setAnimation(this.opts.animate)}),!1}),this}static _itemRemoving(t,r){let i=t?t.gridstackNode:void 0;!i?.grid||t.classList.contains(i.grid.opts.removableOptions.decline)||(r?i._isAboutToRemove=!0:delete i._isAboutToRemove,r?t.classList.add("grid-stack-item-removing"):t.classList.remove("grid-stack-item-removing"))}_setupRemoveDrop(){if(typeof this.opts.removable!="string")return this;let t=document.querySelector(this.opts.removable);return t?(!this.opts.staticGrid&&!J.isDroppable(t)&&J.droppable(t,this.opts.removableOptions).on(t,"dropover",(r,i)=>n._itemRemoving(i,!0)).on(t,"dropout",(r,i)=>n._itemRemoving(i,!1)),this):this}_prepareDragDropByNode(t){let r=t.el,i=t.noMove||this.opts.disableDrag,o=t.noResize||this.opts.disableResize;if(this.opts.staticGrid||i&&o)return t._initDD&&(this._removeDD(r),delete t._initDD),r.classList.add("ui-draggable-disabled","ui-resizable-disabled"),this;if(!t._initDD){let s,a,u=(c,f)=>{this._gsEventHandler[c.type]&&this._gsEventHandler[c.type](c,c.target),s=this.cellWidth(),a=this.getCellHeight(!0),this._onStartMoving(r,c,f,t,s,a)},l=(c,f)=>{this._dragOrResize(r,c,f,t,s,a)},d=c=>{this.placeholder.remove(),delete t._moving,delete t._event,delete t._lastTried;let f=t.w!==t._orig.w,h=c.target;if(!(!h.gridstackNode||h.gridstackNode.grid!==this)){if(t.el=h,t._isAboutToRemove){let m=r.gridstackNode.grid;m._gsEventHandler[c.type]&&m._gsEventHandler[c.type](c,h),m.engine.nodes.push(t),m.removeWidget(r,!0,!0)}else p.removePositioningStyles(h),t._temporaryRemoved?(p.copyPos(t,t._orig),this._writePosAttr(h,t),this.engine.addNode(t)):this._writePosAttr(h,t),this._gsEventHandler[c.type]&&this._gsEventHandler[c.type](c,h);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),c.type==="resizestop"&&(Number.isInteger(t.sizeToContent)&&(t.sizeToContent=t.h),this.resizeToContentCheck(f,t))}};J.draggable(r,{start:u,stop:d,drag:l}).resizable(r,{start:u,stop:d,resize:l}),t._initDD=!0}return J.draggable(r,i?"disable":"enable").resizable(r,o?"disable":"enable"),this}_onStartMoving(t,r,i,o,s,a){if(this.engine.cleanNodes().beginUpdate(o),this._writePosAttr(this.placeholder,o),this.el.appendChild(this.placeholder),o.grid?.el)this.dragTransform=p.getValuesFromTransformedElement(t);else if(this.placeholder&&this.placeholder.closest(".grid-stack")){let u=this.placeholder.closest(".grid-stack");this.dragTransform=p.getValuesFromTransformedElement(u)}else this.dragTransform={xScale:1,xOffset:0,yScale:1,yOffset:0};o.el=this.placeholder,o._lastUiPosition=i.position,o._prevYPix=i.position.top,o._moving=r.type==="dragstart",delete o._lastTried,r.type==="dropover"&&o._temporaryRemoved&&(this.engine.addNode(o),o._moving=!0),this.engine.cacheRects(s,a,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),r.type==="resizestart"&&(J.resizable(t,"option","minWidth",s*(o.minW||1)).resizable(t,"option","minHeight",a*(o.minH||1)),o.maxW&&J.resizable(t,"option","maxWidth",s*o.maxW),o.maxH&&J.resizable(t,"option","maxHeight",a*o.maxH))}_dragOrResize(t,r,i,o,s,a){let u=g({},o._orig),l,d=this.opts.marginLeft,c=this.opts.marginRight,f=this.opts.marginTop,h=this.opts.marginBottom,m=Math.round(a*.1),D=Math.round(s*.1);if(d=Math.min(d,D),c=Math.min(c,D),f=Math.min(f,m),h=Math.min(h,m),r.type==="drag"){if(o._temporaryRemoved)return;let T=i.position.top-o._prevYPix;o._prevYPix=i.position.top,this.opts.draggable.scroll!==!1&&p.updateScrollPosition(t,i.position,T);let ue=i.position.left+(i.position.left>o._lastUiPosition.left?-c:d),ee=i.position.top+(i.position.top>o._lastUiPosition.top?-h:f);u.x=Math.round(ue/s),u.y=Math.round(ee/a);let Ee=this._extraDragRow;if(this.engine.collide(o,u)){let Ne=this.getRow(),ne=Math.max(0,u.y+o.h-Ne);this.opts.maxRow&&Ne+ne>this.opts.maxRow&&(ne=Math.max(0,this.opts.maxRow-Ne)),this._extraDragRow=ne}else this._extraDragRow=0;if(this._extraDragRow!==Ee&&this._updateContainerHeight(),o.x===u.x&&o.y===u.y)return}else if(r.type==="resize"){if(u.x<0||(p.updateScrollResize(r,t,a),u.w=Math.round((i.size.width-d)/s),u.h=Math.round((i.size.height-f)/a),o.w===u.w&&o.h===u.h)||o._lastTried&&o._lastTried.w===u.w&&o._lastTried.h===u.h)return;let T=i.position.left+d,ue=i.position.top+f;u.x=Math.round(T/s),u.y=Math.round(ue/a),l=!0}o._event=r,o._lastTried=u;let j={x:i.position.left+d,y:i.position.top+f,w:(i.size?i.size.width:o.w*s)-d-c,h:(i.size?i.size.height:o.h*a)-f-h};if(this.engine.moveNodeCheck(o,S(g({},u),{cellWidth:s,cellHeight:a,rect:j,resizing:l}))){o._lastUiPosition=i.position,this.engine.cacheRects(s,a,f,c,h,d),delete o._skipDown,l&&o.subGrid&&o.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();let T=r.target;this._writePosAttr(T,o),this._gsEventHandler[r.type]&&this._gsEventHandler[r.type](r,T)}}_leave(t,r){let i=t.gridstackNode;i&&(r=r||t,r.style.transform="scale(1)",J.off(t,"drag"),!i._temporaryRemoved&&(i._temporaryRemoved=!0,this.engine.removeNode(i),i.el=i._isExternal&&r?r:t,this.opts.removable===!0&&n._itemRemoving(t,!0),t._gridstackNodeOrig?(t.gridstackNode=t._gridstackNodeOrig,delete t._gridstackNodeOrig):i._isExternal&&(delete i.el,delete t.gridstackNode,this.engine.restoreInitial())))}commit(){return Zf(this,this.batchUpdate(!1),"commit","batchUpdate","5.2"),this}}return n.resizeToContentParent=".grid-stack-item-content",n.Utils=p,n.Engine=to,n.GDRev="10.1.2",n})();var nh=["container"],Tw=["*"];function Aw(n,e){}var Nw=["*",[["","empty-content",""]]],Rw=["*","[empty-content]"];function Ow(n,e){n&1&&Ai(0,1,["*ngIf","isEmpty"])}function Pw(n,e){}var uo=(()=>{class n{constructor(t){this.elementRef=t,this.el._gridItemComp=this}set options(t){this.el.gridstackNode?.grid?this.el.gridstackNode.grid.update(this.el,t):this._options=S(g({},t),{el:this.el})}get options(){return this.el.gridstackNode||this._options||{el:this.el}}get el(){return this.elementRef.nativeElement}clearOptions(){delete this._options}ngOnDestroy(){delete this.ref,delete this.el._gridItemComp}}return n.\u0275fac=function(t){return new(t||n)(it(Be))},n.\u0275cmp=yt({type:n,selectors:[["gridstack-item"]],viewQuery:function(t,r){if(t&1&&va(nh,7,Ve),t&2){let i;Wn(i=qn())&&(r.container=i.first)}},inputs:{options:"options"},ngContentSelectors:Tw,decls:5,vars:1,consts:[["container",""],[1,"grid-stack-item-content"]],template:function(t,r){t&1&&(ga(),Et(0,"div",1),tn(1,Aw,0,0,"ng-template",null,0,ya),Ai(3),Ni(4),bt()),t&2&&(an(4),Yn(" ",r.options.content," "))},styles:["[_nghost-%COMP%]{display:block}"]}),n})(),ao=(()=>{class n{constructor(t){this.elementRef=t,this.addedCB=new V,this.changeCB=new V,this.disableCB=new V,this.dragCB=new V,this.dragStartCB=new V,this.dragStopCB=new V,this.droppedCB=new V,this.enableCB=new V,this.removedCB=new V,this.resizeCB=new V,this.resizeStartCB=new V,this.resizeStopCB=new V,this.ngUnsubscribe=new Y,this.el._gridComp=this}set options(t){this._options=t}get options(){return this._grid?.opts||this._options||{}}get el(){return this.elementRef.nativeElement}get grid(){return this._grid}static addComponentToSelectorType(t){t.forEach(r=>n.selectorToType[n.getSelector(r)]=r)}static getSelector(t){return Ea(t).selector}ngOnInit(){this.loaded=!!this.options?.children?.length,this._grid=so.init(this._options,this.el),delete this._options,this.checkEmpty()}ngAfterContentInit(){this.gridstackItems?.changes.pipe(Mn(this.ngUnsubscribe)).subscribe(()=>this.updateAll()),this.loaded||this.updateAll(),this.hookEvents(this.grid)}ngOnDestroy(){delete this.ref,this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.grid?.destroy(),delete this._grid,delete this.el._gridComp}updateAll(){if(!this.grid)return;let t=[];this.gridstackItems?.forEach(r=>{t.push(r.options),r.clearOptions()}),this.grid.load(t)}checkEmpty(){if(!this.grid)return;let t=!this.grid.engine.nodes.length;t!==this.isEmpty&&(this.isEmpty=t)}hookEvents(t){t&&t.on("added",(r,i)=>{this.checkEmpty(),this.addedCB.emit({event:r,nodes:i})}).on("change",(r,i)=>this.changeCB.emit({event:r,nodes:i})).on("disable",r=>this.disableCB.emit({event:r})).on("drag",(r,i)=>this.dragCB.emit({event:r,el:i})).on("dragstart",(r,i)=>this.dragStartCB.emit({event:r,el:i})).on("dragstop",(r,i)=>this.dragStopCB.emit({event:r,el:i})).on("dropped",(r,i,o)=>this.droppedCB.emit({event:r,previousNode:i,newNode:o})).on("enable",r=>this.enableCB.emit({event:r})).on("removed",(r,i)=>{this.checkEmpty(),this.removedCB.emit({event:r,nodes:i})}).on("resize",(r,i)=>this.resizeCB.emit({event:r,el:i})).on("resizestart",(r,i)=>this.resizeStartCB.emit({event:r,el:i})).on("resizestop",(r,i)=>this.resizeStopCB.emit({event:r,el:i}))}}return n.selectorToType={},n.\u0275fac=function(t){return new(t||n)(it(Be))},n.\u0275cmp=yt({type:n,selectors:[["gridstack"]],contentQueries:function(t,r,i){if(t&1&&ma(i,uo,4),t&2){let o;Wn(o=qn())&&(r.gridstackItems=o)}},viewQuery:function(t,r){if(t&1&&va(nh,7,Ve),t&2){let i;Wn(i=qn())&&(r.container=i.first)}},inputs:{options:"options",isEmpty:"isEmpty"},outputs:{addedCB:"addedCB",changeCB:"changeCB",disableCB:"disableCB",dragCB:"dragCB",dragStartCB:"dragStartCB",dragStopCB:"dragStopCB",droppedCB:"droppedCB",enableCB:"enableCB",removedCB:"removedCB",resizeCB:"resizeCB",resizeStartCB:"resizeStartCB",resizeStopCB:"resizeStopCB"},ngContentSelectors:Rw,decls:4,vars:1,consts:[["container",""],[4,"ngIf"]],template:function(t,r){t&1&&(ga(Nw),tn(0,Ow,1,0,"ng-content",1)(1,Pw,0,0,"ng-template",null,0,ya),Ai(3)),t&2&&un("ngIf",r.isEmpty)},dependencies:[tf],styles:["[_nghost-%COMP%]{display:block}"]}),n})();function kw(n,e,t,r){if(t){if(!n)return;if(r){let o=n.parentElement?._gridItemComp?.container?.createComponent(ao),s=o?.instance;return s?(s.ref=o,s.options=e,s.el):void 0}else{let o=n._gridComp?.container?.createComponent(uo),s=o?.instance;if(!s)return;s.ref=o;let a=e.selector,u=a?ao.selectorToType[a]:void 0;if(!e.subGridOpts&&u){let l=s.container?.createComponent(u)?.instance;typeof l?.serialize=="function"&&typeof l?.deserialize=="function"&&(s.childWidget=l,l.deserialize(e))}return s.el}}else{let i=e;if(r){let o=i.el?._gridComp;o?.ref?o.ref.destroy():o?.ngOnDestroy()}else{let o=i.el?._gridItemComp;o?.ref?o.ref.destroy():o?.ngOnDestroy()}}}function Fw(n,e){let t=n.el?._gridItemComp;if(t){let i=t.childWidget?.serialize();i&&(e.input=i);return}let r=n.el?._gridComp}var rh=(()=>{class n{constructor(){so.addRemoveCB=kw,so.saveCB=Fw}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n}),n.\u0275inj=nn({imports:[Ia]}),n})();var jw=(n,e)=>e.id;function Hw(n,e){if(n&1&&(Et(0,"gridstack-item",2)(1,"div",3),Ni(2),bt()()),n&2){let t=e.$implicit;un("options",t),an(2),Yn(" Item ",t.id," ")}}var ih=(()=>{let e=class e{constructor(){this.gridOptions={margin:5},this.items=[{x:0,y:0,w:4,id:"1"},{x:1,y:0,w:3,id:"2"},{x:0,y:1,h:4,w:4,id:"3"},{x:3,y:1,w:3,id:"4"},{x:0,y:2,w:2,id:"5"}]}onChange(r){console.log("change ",r.nodes.length>1?r.nodes:r.nodes[0])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=yt({type:e,selectors:[["app-root"]],standalone:!0,features:[Ri],decls:4,vars:1,consts:[[1,"main"],[3,"changeCB","options"],[3,"options"],[1,"item-content"]],template:function(i,o){i&1&&(Et(0,"div",0)(1,"gridstack",1),Ti("changeCB",function(a){return o.onChange(a)}),Fd(2,Hw,3,2,"gridstack-item",2,jw),bt()()),i&2&&(an(),un("options",o.gridOptions),an(),Ld(o.items))},dependencies:[rh,ao,uo],styles:["gridstack[_ngcontent-%COMP%]{height:500px;background:#fafad2;margin:10px;padding:40px}.item-content[_ngcontent-%COMP%]{text-align:center;background-color:#c9f199;border:1px solid #000;border-radius:5px;height:100%}"]});let n=e;return n})();df(ih,Qf).catch(n=>console.error(n));
